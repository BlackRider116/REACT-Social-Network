(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{507:function(e,a,s){e.exports=s.p+"static/media/avatarDefault.6c93098b.jpg"},509:function(e,a,s){"use strict";s.d(a,"a",(function(){return d}));var t=s(69),n=s(70),r=s(72),c=s(71),i=s(73),u=s(0),o=s.n(u),l=s(61),g=s(29),m=function(e){return{isAuth:e.auth.isAuth}},d=function(e){var a=function(a){function s(){return Object(t.a)(this,s),Object(r.a)(this,Object(c.a)(s).apply(this,arguments))}return Object(i.a)(s,a),Object(n.a)(s,[{key:"render",value:function(){return this.props.isAuth?o.a.createElement(e,this.props):o.a.createElement(l.a,{to:"/login"})}}]),s}(o.a.Component);return Object(g.b)(m)(a)}},510:function(e,a,s){e.exports={dialogs:"Dialogs_dialogs__1HFLl",dialogItem:"Dialogs_dialogItem__26fFk",active:"Dialogs_active__3_eL3",message:"Dialogs_message__2tLdL",message_card:"Dialogs_message_card__3_tVC",message_card_select:"Dialogs_message_card_select__3US-J",message_delete:"Dialogs_message_delete__347JM",message_left:"Dialogs_message_left__3qHEf",message_right:"Dialogs_message_right__2SbB4",message_data_right:"Dialogs_message_data_right__OoqIP",message_data_left:"Dialogs_message_data_left__1MamM",message_viewed:"Dialogs_message_viewed__275qw",user:"Dialogs_user__3jqa3",input:"Dialogs_input__Ed3Pc"}},523:function(e,a,s){"use strict";s.r(a);var t=s(69),n=s(70),r=s(72),c=s(71),i=s(73),u=s(0),o=s.n(u),l=s(61),g=s(29),m=s(509),d=s(17),_=s(510),p=s.n(_),h=s(184),f=s(34),M=s(507),v=s.n(M),k=function(e){var a=e.userInfo;return o.a.createElement("div",{className:"".concat(p.a.user," ").concat(p.a.dialogItem)},o.a.createElement(f.b,{to:"/profile/".concat(a.id)},o.a.createElement("img",{alt:a.id,src:a.photos.small?a.photos.small:v.a})),o.a.createElement(f.b,{to:"/dialogs/".concat(a.id),activeClassName:p.a.active},o.a.createElement("div",{onClick:function(){return e.userMessages(a.id)}},a.userName)))},b=s(7),I=s.n(b),E=s(16),D=s(181),y=s(505),T=s(511),j=s.n(T),O=s(173),w=s(249),N=s(258),A=s(521),C=Object(w.a)({form:"newMessage"})((function(e){var a=function(){var a=Object(E.a)(I.a.mark((function a(s,t){return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.sendMessageThunk(e.userId,s.newMessage);case 2:t(e.reset("newMessage"));case 3:case"end":return a.stop()}}),a)})));return function(e,s){return a.apply(this,arguments)}}();return o.a.createElement("form",{onSubmit:e.handleSubmit(a)},o.a.createElement("div",{className:"".concat(p.a.input)},o.a.createElement(O.a,{name:"newMessage",component:"textarea"}),o.a.createElement(N.a,{variant:"secondary",type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))})),S=function(e){var a=e.myId,s=Object(D.a)(e,["myId"]),t=s.userMessages.items||[];return o.a.createElement(o.a.Fragment,null,t.map((function(e){return o.a.createElement("div",{key:e.id,className:"".concat(p.a.message)},o.a.createElement(y.a,{className:"".concat(e.senderId===a?p.a.message_right:p.a.message_left," ").concat(e.isSelect?"".concat(p.a.message_card_select," ").concat(p.a.message_card):p.a.message_card),onClick:function(){return s.selectMessageThunk(e.id)}},e.body.replace("<br />",""),e.isSelect&&e.senderId===a&&o.a.createElement("span",null,o.a.createElement(A.a,{className:p.a.message_delete,onClick:function(){return s.deleteMessageThunk(e.id)}})),o.a.createElement(j.a,{format:"DD-MM-YYYY HH:mm",className:e.senderId===a?p.a.message_data_right:p.a.message_data_left},e.addedAt),e.senderId===a&&!e.viewed&&o.a.createElement("div",{className:p.a.message_viewed},"\u043d\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e")))})),o.a.createElement(C,{sendMessageThunk:s.sendMessageThunk,userId:s.userId}))},x=function(e){function a(){var e,s;Object(t.a)(this,a);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return(s=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(i)))).userId=s.props.match.params.userId,s}return Object(i.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllDialogsThunk(),this.userId&&this.props.getUserMessagesThunk(this.userId)}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:p.a.dialogs},o.a.createElement("div",null,this.props.usersInfo.map((function(a){return o.a.createElement(k,{key:a.id,userInfo:a,userMessages:e.props.getUserMessagesThunk})}))),o.a.createElement("div",null,o.a.createElement(S,{userMessages:this.props.userMessages,myId:this.props.myId,userId:this.userId,sendMessageThunk:this.props.sendMessageThunk,selectMessageThunk:this.props.selectMessageThunk,deleteMessageThunk:this.props.deleteMessageThunk})))}}]),a}(o.a.Component);a.default=Object(d.d)(Object(g.b)((function(e){return{usersInfo:e.messagesPage.usersInfo,userMessages:e.messagesPage.userMessages,myId:e.auth.userId}}),{getAllDialogsThunk:h.c,getUserMessagesThunk:h.d,sendMessageThunk:h.f,deleteMessageThunk:h.b,selectMessageThunk:h.e}),l.g,m.a)(x)}}]);
//# sourceMappingURL=5.c67fa799.chunk.js.map