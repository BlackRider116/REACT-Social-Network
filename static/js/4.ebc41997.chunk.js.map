{"version":3,"sources":["assets/image/avatarDefault.jpg","common/Pagination/Pagination.module.scss","styles/Users.module.scss","common/Pagination/Pagination.jsx","components/Navbar/Users/UserPage.jsx","components/Navbar/Users/UsersContainer.jsx"],"names":["module","exports","Pagination","totalCount","usersCount","numberPage","onNumberPage","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","pagination","jump","displayNone","onClick","filter","p","map","pageNumber","buttonsColor","key","length","UserPage","props","users","user","Card","id","to","alt","src","photos","small","avatarDefault","avatar","followed","Button","variant","user_followBtn","deleteFollowThunk","postFollowThunk","style","marginTop","name","fontSize","status","isAuth","user_startMesBtn","startDialogThunk","UsersContainer","getUsersThunk","this","isLoading","Preloader","React","Component","compose","connect","state","usersPage","auth"],"mappings":"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","file":"static/js/4.ebc41997.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatarDefault.6c93098b.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__1v0lr\",\"displayNone\":\"Pagination_displayNone__1kSMh\",\"buttonsColor\":\"Pagination_buttonsColor__2z9e5\",\"jump\":\"Pagination_jump__3blJt\",\"pageNumber\":\"Pagination_pageNumber__2mzw-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Users_avatar__3Albd\",\"user\":\"Users_user__3t3QN\",\"user_followBtn\":\"Users_user_followBtn__2lej1\",\"user_startMesBtn\":\"Users_user_startMesBtn__bw5wI\"};","import React, { useState } from \"react\";\r\nimport styles from \"./Pagination.module.scss\";\r\n\r\nconst Pagination = ({totalCount, usersCount, numberPage, onNumberPage, portionSize = 10}) => {\r\n\r\n  let pagesCount = Math.ceil(totalCount / usersCount);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  const next = () => {\r\n    if(numberPage < leftPortionPageNumber){\r\n      onNumberPage(leftPortionPageNumber)\r\n    }\r\n    else if(numberPage >= rightPortionPageNumber){\r\n      onNumberPage(rightPortionPageNumber+1)\r\n      setPortionNumber(portionNumber+1)\r\n    }\r\n    else {\r\n      onNumberPage(numberPage+1)\r\n    }\r\n  }\r\n\r\n  const prev = () => {\r\n    if(numberPage > rightPortionPageNumber){\r\n      onNumberPage(rightPortionPageNumber)\r\n    }\r\n    else if(numberPage <= leftPortionPageNumber){\r\n      onNumberPage(leftPortionPageNumber-1)\r\n      setPortionNumber(portionNumber-1)\r\n    }\r\n    else {\r\n      onNumberPage(numberPage-1)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n   { totalCount !== 0 ? \r\n    <div className={styles.pagination}>\r\n      {<button className={portionNumber > 1 ? styles.jump : styles.displayNone } onClick={() => {setPortionNumber(portionNumber-1)}}>JUMP</button>}\r\n      {<button className={numberPage !== 1 ? styles.jump :  styles.displayNone } onClick={() => {prev()}}>PREV</button>}\r\n      {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map(p => {\r\n          return (\r\n            <button className={numberPage === p ? styles.pageNumber : styles.buttonsColor}\r\n              key={p} \r\n              onClick={() => {\r\n                onNumberPage(p);\r\n              }}\r\n            >{` ${p}`}</button>\r\n          );\r\n        })}\r\n      {<button className={pages.length !== numberPage ? styles.jump : styles.displayNone } onClick={() => {next()}}>NEXT</button>}\r\n      {<button className={portionCount > portionNumber ? styles.jump : styles.displayNone } onClick={() => {setPortionNumber(portionNumber+1)}}>JUMP</button>}\r\n      </div>\r\n     : null }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\nimport styles from \"../../../styles/Users.module.scss\";\r\nimport avatarDefault from \"./../../../assets/image/avatarDefault.jpg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Button, Card } from \"react-bootstrap\";\r\n\r\nconst UserPage = props => {\r\n  return (\r\n    <div>\r\n      {props.users.map(user => (\r\n        <Card key={user.id} className={styles.user}>\r\n          <div>\r\n            <NavLink to={`/profile/${user.id}`}>\r\n              <img\r\n                alt=\"avatarDefault\"\r\n                src={\r\n                  user.photos.small !== null ? user.photos.small : avatarDefault\r\n                }\r\n                className={styles.avatar}\r\n              />\r\n            </NavLink>\r\n\r\n            {user.followed ? (\r\n              <Button\r\n                variant=\"outline-danger\"\r\n                className={styles.user_followBtn}\r\n                onClick={() => {\r\n                  props.deleteFollowThunk(user.id);\r\n                }}\r\n              >\r\n                Отписаться\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                variant=\"outline-success\"\r\n                className={styles.user_followBtn}\r\n                onClick={() => {\r\n                  props.postFollowThunk(user.id);\r\n                }}\r\n              >\r\n                Подписаться\r\n              </Button>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <h4 style={{marginTop: '5px'}}> {user.name}</h4>\r\n            <div style={{fontSize: '17px'}}>sdfgsdfgsdfg{user.status}</div>\r\n\r\n            <NavLink to={props.isAuth ? `/dialogs/${user.id}` : \"/login\"}>\r\n              <Button\r\n                className={styles.user_startMesBtn}\r\n                variant=\"outline-primary\"\r\n                onClick={() => props.isAuth && props.startDialogThunk(user.id)}\r\n              > Написать сообщение </Button>\r\n            </NavLink>\r\n          </div>\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPage;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  getUsersThunk,\r\n  postFollowThunk,\r\n  deleteFollowThunk\r\n} from \"../../../redux/reduceUsers\";\r\nimport { compose } from \"redux\";\r\nimport { startDialogThunk } from \"../../../redux/reduceDialogs\";\r\nimport Pagination from \"../../../common/Pagination/Pagination\";\r\nimport Preloader from \"../../../common/Preloader/Preloader\";\r\nimport UserPage from \"./UserPage\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsersThunk(this.props.usersCount, this.props.pageNumber);\r\n  }\r\n\r\n  onNumberPage = pageNumber => {\r\n    this.props.getUsersThunk(this.props.usersCount, pageNumber);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Pagination\r\n          totalCount={this.props.totalCount}\r\n          usersCount={this.props.usersCount}\r\n          numberPage={this.props.numberPage}\r\n          onNumberPage={this.onNumberPage}\r\n        />\r\n        {this.props.isLoading ? (\r\n          <Preloader />\r\n        ) : (\r\n          <UserPage\r\n            users={this.props.users}\r\n            postFollowThunk={this.props.postFollowThunk}\r\n            deleteFollowThunk={this.props.deleteFollowThunk}\r\n            startDialogThunk={this.props.startDialogThunk}\r\n            isAuth={this.props.isAuth}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    users: state.usersPage.users,\r\n    usersCount: state.usersPage.usersCount,\r\n    totalCount: state.usersPage.totalCount,\r\n    numberPage: state.usersPage.numberPage,\r\n    isLoading: state.usersPage.isLoading,\r\n    isAuth: state.auth.isAuth\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    postFollowThunk,\r\n    deleteFollowThunk,\r\n    getUsersThunk,\r\n    startDialogThunk\r\n  })\r\n)(UsersContainer);\r\n"],"sourceRoot":""}