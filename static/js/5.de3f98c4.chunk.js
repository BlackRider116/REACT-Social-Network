(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{584:function(e,t,a){e.exports={global:"Profile_global__2dASZ",profileInfoCard:"Profile_profileInfoCard__24Dx_",profileInfo:"Profile_profileInfo__77Yjz",status__text:"Profile_status__text__CN9Hc",aboutMe:"Profile_aboutMe__1D6E8",profilePostItem:"Profile_profilePostItem__3fX0W",profilePostLikes:"Profile_profilePostLikes__XhHl3",myPostsContent:"Profile_myPostsContent__2bkM_",myPostsInput:"Profile_myPostsInput__3lxoZ",inputStyle_Name:"Profile_inputStyle_Name__2jh8i",inputStyle:"Profile_inputStyle__3Q7s7"}},585:function(e,t,a){e.exports=a.p+"static/media/avatarDefault.6c93098b.jpg"},586:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(72),l=a(73),r=a(74),o=a(75),s=a(76),i=a(0),c=a.n(i),u=a(64),p=a(30),m=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){function a(){return Object(n.a)(this,a),Object(r.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(s.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(u.a,{to:"/login"})}}]),a}(c.a.Component);return Object(p.b)(m)(t)}},607:function(e,t,a){"use strict";a.r(t);var n=a(72),l=a(73),r=a(74),o=a(75),s=a(76),i=a(0),c=a.n(i),u=a(30),p=a(64),m=a(17),f=a(201),d=a(199),h=a(585),E=a.n(h),b=a(584),v=a.n(b),g=function(e){var t=Object(i.useState)(!1),a=Object(f.a)(t,2),n=a[0],l=a[1],r=Object(i.useState)(e.status),o=Object(f.a)(r,2),s=o[0],u=o[1],p=e.match.params.userId;Object(i.useEffect)((function(){u(e.status)}),[e.status]);return c.a.createElement("div",{className:v.a.profileInfoItem},!n&&c.a.createElement("div",{className:v.a.status__text,onClick:function(){void 0===p&&l(!0)}},e.status),n&&c.a.createElement("div",{style:{cursor:"pointer"}},c.a.createElement("input",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441",onChange:function(e){u(e.currentTarget.value)},onBlur:function(){setTimeout((function(){l(!1)}),500)},autoFocus:!0,value:s}),c.a.createElement("button",{onClick:function(){l(!1),e.updateUserStatus(s)}},"OK")))},P=a(82),y=a.n(P),k=a(273),O=a(107),j=a(106),_=Object(k.a)({form:"profileUserInfo"})((function(e){var t=e.profile,a=e.error,n=Object(d.a)(e,["profile","error"]);return c.a.createElement("form",{onSubmit:n.handleSubmit},c.a.createElement("button",{type:"submit",ref:n.saveProfileBtn,style:{display:"none"}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),c.a.createElement("div",null,a&&c.a.createElement("div",{className:y.a.errorText},a)),c.a.createElement("div",null,c.a.createElement("div",{className:v.a.inputStyle_Name},c.a.createElement("b",null,"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f: "),c.a.createElement("div",null,Object(O.a)(j.b,"fullName","input",null,null,t.fullName))),c.a.createElement("div",{className:v.a.inputStyle},c.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "),c.a.createElement("div",null,Object.keys(t.contacts).map((function(e){return c.a.createElement("span",{key:e,style:{display:"flex",alignItems:"center"}},c.a.createElement("b",null,e,": "),Object(O.a)([],"contacts."+e,"input",e,null))}))))))})),w=Object(k.a)({form:"profileUserInfoAboutMe"})((function(e){e.profile;var t=e.error,a=Object(d.a)(e,["profile","error"]);return c.a.createElement("form",{onSubmit:a.handleSubmit},c.a.createElement("button",{type:"submit",ref:a.saveProfileBtn,style:{display:"none"}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),c.a.createElement("span",null,t&&c.a.createElement("span",{className:y.a.errorText},t)),c.a.createElement("div",{className:v.a.aboutMe},c.a.createElement("div",null,c.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435: "),Object(O.a)(j.b,"aboutMe",null)),c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement("b",null,"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: ")," ",Object(O.a)([],"lookingForAJob","input",null,"checkbox")),c.a.createElement("div",null,c.a.createElement("b",null,"\u041c\u043e\u0439 \u0441\u043a\u0438\u043b\u043b: "),Object(O.a)(j.b,"lookingForAJobDescription",null,null,null))))})),I=function(e){var t=e.profile;return c.a.createElement("div",null,c.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "),Object.keys(t.contacts).map((function(e){return c.a.createElement("div",{key:e,style:{marginLeft:"15px"}},null!==t.contacts[e]&&""!==t.contacts[e]&&c.a.createElement("div",null,c.a.createElement("b",null,e,": "),t.contacts[e]))})))},x=function(e){var t=e.profile;return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435: "),c.a.createElement("div",{style:{marginLeft:"10px",width:"60%"}},t.aboutMe)),c.a.createElement("div",{style:{display:"flex",alignItem:"center"}},c.a.createElement("b",null,"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: "),c.a.createElement("h5",{style:{marginLeft:"10px"}},t.lookingForAJob?"Yes":"No")),c.a.createElement("div",null,c.a.createElement("b",null,"\u041c\u043e\u0438 \u0441\u043a\u0438\u043b\u043b\u044b: "),c.a.createElement("div",{style:{marginLeft:"10px",width:"60%"}},t.lookingForAJobDescription)))},S=a(291),N=a(144),T=a(34),F=function(e){var t=e.profileUpdate,a=Object(d.a)(e,["profileUpdate"]),n=c.a.createRef(),l=Object(i.useState)(!1),r=Object(f.a)(l,2),o=r[0],s=r[1],u=Object(i.useState)(!1),p=Object(f.a)(u,2),m=p[0],h=p[1],b=function(e){e!==a.profile?a.saveProfile(e):!1!==t&&(s(!1),h(!1))};Object(i.useEffect)((function(){!0===t&&(s(!1),h(!1))}),[t]);var P=c.a.createRef();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:v.a.profileInfoCard},c.a.createElement("div",{className:v.a.profileInfo},c.a.createElement("img",{src:null!==a.profile.photos.large?a.profile.photos.large:E.a,alt:"AvaPhoto"}),c.a.createElement("textarea",{ref:n,type:"file",onChange:function(e){e.target.files.length&&a.savePhoto(e.target.files[0])},style:{display:"none"}}),a.isOwner?c.a.createElement("div",{style:{marginTop:"5px"}},c.a.createElement("div",null,a.isFollow?c.a.createElement(S.a,{style:{width:"250px"},variant:"danger",onClick:function(){return a.onFollowThunk(a.profile.userId,a.isFollow)}},"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"):c.a.createElement(S.a,{style:{width:"250px"},variant:"success",onClick:function(){return a.onFollowThunk(a.profile.userId,a.isFollow)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f")),c.a.createElement("div",{style:{marginTop:"3px"}},c.a.createElement(T.b,{to:"/dialogs/".concat(a.profile.userId)},c.a.createElement(S.a,{style:{width:"250px"},onClick:function(){return a.startDialogThunk(a.profile.userId)}},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")))):c.a.createElement("div",{style:{paddingTop:"3px"}},c.a.createElement(S.a,{style:{width:"250px"},onClick:function(){return n.current.click()},variant:"secondary"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e"),a.isOwner||o||m?c.a.createElement(S.a,{style:{marginTop:"3px",width:"250px"},variant:"success",onClick:function(){return P.current.click()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"):c.a.createElement(N.a,null,c.a.createElement(N.a.Toggle,{style:{marginTop:"3px",width:"250px"}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"),c.a.createElement(N.a.Menu,{style:{width:"250px"}},c.a.createElement(N.a.Item,{onClick:function(){return s(!0)}},"\u0418\u043c\u044f \u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),c.a.createElement(N.a.Item,{onClick:function(){return h(!0)}},"\u041e\u0431\u043e \u043c\u043d\u0435"))))),c.a.createElement("div",{style:{margin:"10px"}},c.a.createElement("h3",null,a.profile.fullName),c.a.createElement(g,a),c.a.createElement("div",{style:{marginLeft:"10px"}},o?c.a.createElement(_,Object.assign({},a,{onSubmit:b,initialValues:a.profile,saveProfileBtn:P})):c.a.createElement(I,{profile:a.profile})))),c.a.createElement("div",{style:{marginLeft:"10px"}},m?c.a.createElement(w,Object.assign({},a,{onSubmit:b,initialValues:a.profile,saveProfileBtn:P})):c.a.createElement(x,{profile:a.profile})))},U=a(200),C=function(e){return c.a.createElement("div",{className:v.a.profilePostItem},c.a.createElement("img",{alt:"Post",src:e.avaPhoto}),e.posts.postText,c.a.createElement("div",{className:v.a.profilePostLikes},e.posts.likes,c.a.createElement("button",null,"Likes")))},A=a(188),D=a(65),L=Object(k.a)({form:"myNewPost"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("div",{className:v.a.myPostsInput},c.a.createElement(A.a,{name:"newPost",component:"textarea"}),c.a.createElement("button",null,"Add Post")))})),M=Object(p.g)((function(e){var t=e.posts.map((function(t){return c.a.createElement(C,{avaPhoto:e.avaPhoto,posts:t,key:t.id})})),a=e.match.params.userId;return c.a.createElement(c.a.Fragment,null,!a&&c.a.createElement("div",null,c.a.createElement(L,{onSubmit:function(t,a){e.addNewPost(t.newPost,e.avaPhoto),a(Object(D.a)("myNewPost"))}}),c.a.createElement("div",{className:v.a.myPostsContent},t)))})),J=Object(u.b)((function(e){return{posts:e.profilePage.posts,avaPhoto:e.profilePage.profile.photos.small}}),{addNewPost:U.a})(M),B=a(78),H=a(582),R=function(e){return e.profile?c.a.createElement(H.a,{className:v.a.global},c.a.createElement(F,Object.assign({},e,{isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile,status:e.status,updateUserStatus:e.updateUserStatus,profileUpdateSuccess:e.profileUpdateSuccess,startDialogThunk:e.startDialogThunk,isFollow:e.isFollow,onFollowThunk:e.onFollowThunk})),c.a.createElement(J,null)):c.a.createElement(B.a,null)},V=a(586),X=a(198),Y=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(l.a)(t,[{key:"userProfileId",value:function(){var e=this.props.match.params.userId;!e&&this.props.isAuth&&(e=this.props.authUserId),e||this.props.isAuth||this.props.history.push("/login"),this.props.getProfileThunk(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.userProfileId()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.userProfileId()}},{key:"render",value:function(){return c.a.createElement(R,Object.assign({},this.props,{isOwner:this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,profileUpdateSuccess:this.props.profileUpdateSuccess,startDialogThunk:this.props.startDialogThunk,isFollow:this.props.isFollow,onFollowThunk:this.props.onFollowThunk}))}}]),t}(c.a.Component);t.default=Object(m.d)(Object(u.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,profileUpdate:e.profilePage.profileUpdate,isFollow:e.profilePage.isFollow,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getProfileThunk:U.c,getUserStatus:U.d,updateUserStatus:U.i,savePhoto:U.g,saveProfile:U.h,profileUpdateSuccess:U.f,startDialogThunk:X.g,onFollowThunk:U.e}),p.g,V.a)(Y)}}]);
//# sourceMappingURL=5.de3f98c4.chunk.js.map