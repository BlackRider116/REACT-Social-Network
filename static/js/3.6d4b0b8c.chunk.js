(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{289:function(t,e,a){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var a=[],n=!0,r=!1,o=void 0;try{for(var s,i=t[Symbol.iterator]();!(n=(s=i.next()).done)&&(a.push(s.value),!e||a.length!==e);n=!0);}catch(u){r=!0,o=u}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.d(e,"a",(function(){return n}))},291:function(t,e,a){"use strict";a.d(e,"a",(function(){return f}));var n=a(47),r=a(48),o=a(50),s=a(49),i=a(51),u=a(0),l=a.n(u),c=a(29),p=a(13),m=function(t){return{isAuth:t.auth.isAuth}},f=function(t){var e=function(e){function a(){return Object(n.a)(this,a),Object(o.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(i.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return this.props.isAuth?l.a.createElement(t,this.props):l.a.createElement(c.a,{to:"/login"})}}]),a}(l.a.Component);return Object(p.b)(m)(e)}},292:function(t,e,a){t.exports=a.p+"static/media/avatarDefault.6c93098b.jpg"},293:function(t,e,a){t.exports={item:"ProfileInfo_item__1CW9q",avatar:"ProfileInfo_avatar__2wFzg",contact:"ProfileInfo_contact__i54Ig"}},296:function(t,e,a){},297:function(t,e,a){t.exports={content:"MyPosts_content__2_Mn2",input:"MyPosts_input__1z1XX"}},298:function(t,e,a){t.exports={item:"Post_item__20EEl",likes:"Post_likes__1zLXg"}},299:function(t,e,a){"use strict";a.r(e);var n=a(47),r=a(48),o=a(50),s=a(49),i=a(51),u=a(0),l=a.n(u),c=a(13),p=a(29),m=a(296),f=a.n(m),b=a(289),h=a(292),d=a.n(h),v=a(293),E=a.n(v),O=function(t){var e=Object(u.useState)(!1),a=Object(b.a)(e,2),n=a[0],r=a[1],o=Object(u.useState)(t.status),s=Object(b.a)(o,2),i=s[0],c=s[1],p=t.match.params.userId;Object(u.useEffect)((function(){c(t.status)}),[t.status]);return l.a.createElement("div",{className:E.a.item},!n&&l.a.createElement("div",null,l.a.createElement("b",null,"Status: "),l.a.createElement("span",{onDoubleClick:function(){void 0===p&&r(!0)}},t.status||"<<<Not indicated>>>")),n&&l.a.createElement("div",null,l.a.createElement("input",{onChange:function(t){c(t.currentTarget.value)},onBlur:function(){setTimeout((function(){r(!1)}),500)},autoFocus:!0,value:i}),l.a.createElement("button",{onClick:function(){r(!1),t.updateUserStatus(i)}},"OK")))},j=a(94),g=a(128),P=a(65),k=a(64),y=Object(g.a)({form:"profileUserInfo"})((function(t){var e=t.profile,a=Object(j.a)(t,["profile"]),n=Object(u.useState)(!1),r=Object(b.a)(n,2),o=r[0],s=r[1];return l.a.createElement("form",{onSubmit:a.handleSubmit},!a.isOwner&&(o?l.a.createElement("button",{onClick:function(){s(!1)}},"Save"):l.a.createElement("button",{onClick:function(){s(!0)}},"Edit")),l.a.createElement("div",null,l.a.createElement("b",null,"Full Name: "),o?Object(P.a)(k.c,"fullName","input",null,null,e.fullName):e.fullName),l.a.createElement("div",null,l.a.createElement("b",null,"About me: "),o?Object(P.a)(k.c,"aboutMe",null):e.aboutMe),l.a.createElement("div",null,l.a.createElement("b",null,"Looking for a job: "),o?Object(P.a)(k.c,"lookingForAJob","input",null,"checkbox"):e.lookingForAJob?"Yes":"No"),l.a.createElement("div",null,l.a.createElement("b",null,"Looking for a job description: "),o?Object(P.a)(k.c,"lookingForAJobDescription",null,null,null):e.lookingForAJobDescription),l.a.createElement("div",null,l.a.createElement("b",null,"Contacts: "),Object.keys(e.contacts).map((function(t){return l.a.createElement("div",{key:t,className:E.a.contact},l.a.createElement("b",null,t,": "),o?Object(P.a)(k.c,"contacts."+t,"input",null,null):e.contacts[t])}))))})),S=function(t){var e=Object(u.useState)(t.profile),a=Object(b.a)(e,2),n=a[0],r=a[1];return l.a.createElement("div",null,l.a.createElement("div",{className:E.a.item},l.a.createElement("img",{className:E.a.avatar,src:null!==t.profile.photos.small?t.profile.photos.large:d.a,alt:"AvaPhoto"}),!t.isOwner&&l.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&t.savePhoto(e.target.files[0])}})),l.a.createElement(O,Object.assign({},t,{status:t.status,updateUserStatus:t.updateUserStatus})),l.a.createElement(y,Object.assign({},t,{saveProfile:t.saveProfile,onSubmit:function(e){e!==n&&(r(e),t.saveProfile(e))},initialValues:t.profile})))},_=a(93),N=a(297),A=a.n(N),I=a(298),w=a.n(I),U=function(t){return l.a.createElement("div",{className:w.a.item},l.a.createElement("img",{alt:"Post",src:t.posts.src}),t.posts.postText,l.a.createElement("div",{className:w.a.likes},t.posts.likes,l.a.createElement("button",null,"Likes")))},C=a(86),x=Object(g.a)({form:"myNewPost"})((function(t){return l.a.createElement("form",{onSubmit:t.handleSubmit},l.a.createElement("div",{className:A.a.input},l.a.createElement(C.a,{name:"newPost",component:"textarea"}),l.a.createElement("button",null,"Add Post")))})),F=function(t){var e=t.posts.map((function(t){return l.a.createElement(U,{posts:t,key:t.id})}));return l.a.createElement("div",null,l.a.createElement(x,{onSubmit:function(e){t.addNewPost(e)}}),l.a.createElement("div",{className:A.a.content},e))},D=Object(c.b)((function(t){return{posts:t.profilePage.posts}}),{addNewPost:_.a})(F),J=a(60),M=function(t){return t.profile?l.a.createElement("div",{className:f.a.content},l.a.createElement(S,Object.assign({},t,{isOwner:t.isOwner,savePhoto:t.savePhoto,saveProfile:t.saveProfile,status:t.status,updateUserStatus:t.updateUserStatus})),l.a.createElement(D,{state:t.state,dispatch:t.dispatch})):l.a.createElement(J.a,null)},T=a(291),L=a(7),z=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(r.a)(e,[{key:"userProfileId",value:function(){var t=this.props.match.params.userId;!t&&this.props.isAuth&&(t=this.props.authUserId),t||this.props.isAuth||this.props.history.push("/login"),this.props.getProfileThunk(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.userProfileId()}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!==t.match.params.userId&&this.userProfileId()}},{key:"render",value:function(){return l.a.createElement(M,Object.assign({},this.props,{isOwner:this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),e}(l.a.Component);e.default=Object(L.d)(Object(c.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getProfileThunk:_.c,getUserStatus:_.d,updateUserStatus:_.g,savePhoto:_.e,saveProfile:_.f}),p.f,T.a)(z)}}]);
//# sourceMappingURL=3.6d4b0b8c.chunk.js.map