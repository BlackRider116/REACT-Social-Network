(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{506:function(e,a,s){e.exports=s.p+"static/media/avatarDefault.6c93098b.jpg"},508:function(e,a,s){"use strict";s.d(a,"a",(function(){return d}));var t=s(69),n=s(70),r=s(72),c=s(71),i=s(73),l=s(0),o=s.n(l),g=s(61),u=s(29),m=function(e){return{isAuth:e.auth.isAuth}},d=function(e){var a=function(a){function s(){return Object(t.a)(this,s),Object(r.a)(this,Object(c.a)(s).apply(this,arguments))}return Object(i.a)(s,a),Object(n.a)(s,[{key:"render",value:function(){return this.props.isAuth?o.a.createElement(e,this.props):o.a.createElement(g.a,{to:"/login"})}}]),s}(o.a.Component);return Object(u.b)(m)(a)}},509:function(e,a,s){e.exports={dialogsPage:"Dialogs_dialogsPage__Vj-n5",cardMessage:"Dialogs_cardMessage__3lT6B",dialogUser:"Dialogs_dialogUser__3ZW-R",active:"Dialogs_active__3_eL3",activeName:"Dialogs_activeName__2eTHX",message:"Dialogs_message__2tLdL",message_card:"Dialogs_message_card__3_tVC",message_card_select:"Dialogs_message_card_select__3US-J",message_delete:"Dialogs_message_delete__347JM",message_left:"Dialogs_message_left__3qHEf",message_right:"Dialogs_message_right__2SbB4",message_data_right:"Dialogs_message_data_right__OoqIP",message_data_left:"Dialogs_message_data_left__1MamM",message_viewed:"Dialogs_message_viewed__275qw",input:"Dialogs_input__Ed3Pc"}},539:function(e,a,s){"use strict";s.r(a);var t=s(69),n=s(70),r=s(72),c=s(71),i=s(73),l=s(0),o=s.n(l),g=s(61),u=s(29),m=s(508),d=s(17),_=s(509),p=s.n(_),h=s(184),f=s(34),M=s(506),v=s.n(M),k=s(504),b=function(e){return o.a.createElement(o.a.Fragment,null,e.userInfo.map((function(a){return o.a.createElement(k.a,{key:a.id,className:p.a.dialogUser},o.a.createElement(f.b,{to:"/profile/".concat(a.id)},o.a.createElement("img",{alt:a.id,src:a.photos.small?a.photos.small:v.a})),o.a.createElement(f.b,{to:"/dialogs/".concat(a.id),activeClassName:p.a.activeName},o.a.createElement("div",{onClick:function(){return e.userMessages(a.id)}},a.userName)))})))},E=s(7),D=s.n(E),I=s(16),y=s(181),T=s(511),j=s.n(T),O=s(173),w=s(249),N=s(258),U=s(537),P=s(513),A=Object(w.a)({form:"newMessage"})((function(e){var a=function(){var a=Object(I.a)(D.a.mark((function a(s,t){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.sendMessageThunk(e.userId,s.newMessage);case 2:t(e.reset("newMessage"));case 3:case"end":return a.stop()}}),a)})));return function(e,s){return a.apply(this,arguments)}}();return o.a.createElement("form",{onSubmit:e.handleSubmit(a)},o.a.createElement("div",{className:p.a.input},o.a.createElement(O.a,{name:"newMessage",component:"textarea",placeholder:" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),o.a.createElement(N.a,{variant:"secondary",type:"submit"},"Ok")))})),C=function(e){var a=e.myId,s=Object(y.a)(e,["myId"]),t=s.userMessages.items||[];return o.a.createElement(k.a,{className:p.a.cardMessage},o.a.createElement("div",{style:{height:"86vh"}},o.a.createElement(P.Scrollbars,{style:{width:"100%",height:"100%"}},t.map((function(e){return o.a.createElement("div",{key:e.id,className:"".concat(p.a.message)},o.a.createElement(k.a,{className:"".concat(e.senderId===a?p.a.message_right:p.a.message_left," ").concat(e.isSelect?"".concat(p.a.message_card_select," ").concat(p.a.message_card):p.a.message_card),onClick:function(){return s.selectMessageThunk(e.id)}},e.body.replace("<br />",""),e.isSelect&&e.senderId===a&&o.a.createElement("span",null,o.a.createElement(U.a,{className:p.a.message_delete,onClick:function(){return s.deleteMessageThunk(e)}})),o.a.createElement(j.a,{format:"DD-MM-YYYY HH:mm",className:e.senderId===a?p.a.message_data_right:p.a.message_data_left},e.addedAt),e.senderId===a&&!e.viewed&&o.a.createElement("div",{className:p.a.message_viewed},"\u043d\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e")))})))),t.length>0&&o.a.createElement(A,{sendMessageThunk:s.sendMessageThunk,userId:s.openUserDialogsId}))},S=function(e){function a(){var e,s;Object(t.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(s=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(i)))).userId=s.props.match.params.userId,s}return Object(i.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllDialogsThunk(),this.userId&&this.props.getUserMessagesThunk(this.userId)}},{key:"componentDidUpdate",value:function(){console.log()}},{key:"render",value:function(){return o.a.createElement("div",{className:p.a.dialogsPage},o.a.createElement("div",null,o.a.createElement(b,{userInfo:this.props.usersInfo,userMessages:this.props.getUserMessagesThunk})),o.a.createElement("div",null,o.a.createElement(C,{userMessages:this.props.userMessages,openUserDialogsId:this.props.openUserDialogsId,myId:this.props.myId,sendMessageThunk:this.props.sendMessageThunk,selectMessageThunk:this.props.selectMessageThunk,deleteMessageThunk:this.props.deleteMessageThunk})))}}]),a}(o.a.Component);a.default=Object(d.d)(Object(u.b)((function(e){return{usersInfo:e.messagesPage.usersInfo,userMessages:e.messagesPage.userMessages,openUserDialogsId:e.messagesPage.openUserDialogsId,myId:e.auth.userId}}),{getAllDialogsThunk:h.c,getUserMessagesThunk:h.d,sendMessageThunk:h.f,deleteMessageThunk:h.b,selectMessageThunk:h.e}),g.g,m.a)(S)}}]);
//# sourceMappingURL=5.df3de0f3.chunk.js.map