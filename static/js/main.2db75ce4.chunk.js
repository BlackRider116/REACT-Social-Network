(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,a){"use strict";a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return g})),a.d(t,"b",(function(){return h}));var n=a(10),r=a.n(n),s=a(23),c=a(9),o=a(19),i="/users/FOLLOW",u={users:[],usersCount:10,totalCount:0,numberPage:1,isLoading:!1},l=function(e,t,a){return e.map((function(e){return e.id===t?Object(c.a)({},e,{followed:a}):e}))},d=function(e){return{type:i,userId:e}},m=function(e){return{type:"/users/UNFOLLOW",userId:e}},f=function(e){return{type:"/users/SET_LOADING",isLoading:e}},p=function(e,t){return function(){var a=Object(s.a)(r.a.mark((function a(n){var s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t&&n({type:"/users/SET_NUMBER_PAGE",numberPage:t}),n(f(!0)),a.next=4,o.d.getUsers(e,t);case 4:s=a.sent,n({type:"/users/SET_USERS",users:s.items}),n({type:"/users/SET_TOTAL_COUNT",totalCount:s.totalCount}),n(f(!1));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.postFollow(e);case 2:0===t.sent.data.resultCode&&a(d(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.deleteFollow(e);case 2:0===t.sent.data.resultCode&&a(m(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(c.a)({},e,{users:l(e.users,t.userId,!0)});case"/users/UNFOLLOW":return Object(c.a)({},e,{users:l(e.users,t.userId,!1)});case"/users/SET_USERS":return Object(c.a)({},e,{users:t.users});case"/users/SET_NUMBER_PAGE":return Object(c.a)({},e,{numberPage:t.numberPage});case"/users/SET_TOTAL_COUNT":return Object(c.a)({},e,{totalCount:t.totalCount});case"/users/SET_LOADING":return Object(c.a)({},e,{isLoading:t.isLoading});default:return e}}},113:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(86),c=a.n(s);t.a=function(e){return r.a.createElement("div",{className:c.a.item},r.a.createElement("img",{alt:"FriendsOnline",src:e.state.src}),r.a.createElement("div",{className:c.a.item},e.state.name))}},132:function(e,t,a){e.exports={sidebar:"Sidebar_sidebar__2PIQJ"}},134:function(e,t,a){e.exports=a.p+"static/media/loading.0e2358c3.gif"},160:function(e,t,a){e.exports=a(286)},161:function(e,t,a){},19:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return i}));var n=a(128),r=n.create({baseURL:"https://social-network.samuraijs.com/api/1.0",withCredentials:!0,headers:{"API-KEY":"fc98c8d1-fcc0-4027-a270-97c3e19bdaad"}}),s={getUsers:function(e,t){return r.get("/users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))}},c={postFollow:function(e){return r.post("/follow/".concat(e))},deleteFollow:function(e){return r.delete("/follow/".concat(e))}},o={getAuth:function(){return r.get("/auth/me")},login:function(e,t,a){return r.post("/auth/login",{email:e,password:t,rememberMe:a})},logout:function(){return r.delete("/auth/login")}},i={getProfile:function(e){return r.get("/profile/".concat(e))},getUserStatus:function(e){return r.get("/profile/status/".concat(e))},updateUserStatus:function(e){return r.put("/profile/status/",{status:e})}}},286:function(e,t,a){"use strict";a.r(t);a(161),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(7),r=a(91),s=a(90),c={friends:[{name:"Nail",id:1,src:"https://www.nastol.com.ua/download.php?img=201112/1280x1024/nastol.com.ua-12179.jpg"},{name:"Dasha",id:2,src:"https://avatars.mds.yandex.net/get-pdb/1706591/9d637326-f188-44f3-8117-76c62487dcd6/s1200"},{name:"Sasha",id:3,src:"http://www.topoboi.com/pic/201312/1440x900/topoboi.com-32873.jpg"},{name:"Petr",id:4,src:"https://avatars.mds.yandex.net/get-pdb/1942078/de777b22-35ba-4f83-925a-a95bb7ded7a1/s1200"},{name:"Dinar",id:5,src:"https://www.sunhome.ru/i/wallpapers/114/koshka-v3.orig.jpg"},{name:"Gena",id:6,src:"https://yt3.ggpht.com/a/AGF-l7-FVKXYlawwwX3FPFRUmbScWaQRXNFYMTe83Q=s900-c-k-c0xffffffff-no-rj-mo"},{name:"Masha",id:7,src:"https://avatars.mds.yandex.net/get-pdb/1365646/0d7c5f19-73d0-410d-a8ed-ec7529d8a167/s1200"},{name:"Sasha",id:8,src:"https://avatars.mds.yandex.net/get-pdb/195449/6eec6f67-e740-457e-9eb7-34bcde2f7082/s1200"}]},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;arguments.length>1&&arguments[1];return e},i=a(100),u=a(10),l=a.n(u),d=a(23),m=a(9),f=a(19),p=a(51),g="/auth/me/SET_AUTH",h={userId:null,email:null,login:null,isAuth:!1},b=function(e,t,a,n){return{type:g,payload:{userId:e,email:t,login:a,isAuth:n}}},v=function(){return function(e){return f.a.getAuth().then((function(t){if(!t.data.resultCode){var a=t.data.data,n=a.id,r=a.email,s=a.login;e(b(n,r,s,!0))}}))}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(m.a)({},e,{},t.payload);default:return e}},w=a(129),_=a(127),y={initialized:!1},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/auth/me/INITIALIZED_SUCCESS":return Object(m.a)({},e,{initialized:!0});default:return e}},j=Object(n.c)({messagesPage:r.b,profilePage:s.b,friendsPage:o,usersPage:i.a,auth:E,form:_.a,app:O}),N=Object(n.e)(j,Object(n.a)(w.a));window.store=N;var S,x=N,k=a(0),T=a.n(k),C=a(61),A=a.n(C),F=a(46),P=a(47),U=a(49),I=a(48),L=a(50),B=a(85),D=a.n(B),R=a(29),M=function(){return T.a.createElement("div",null,"News")},G=function(){return T.a.createElement("div",null,"Setting")},z=function(){return T.a.createElement("div",null,"Music")},H=a(132),X=a.n(H),W=function(){return T.a.createElement("div",{className:X.a.sidebar},"SIDEBAR")},Y=a(8),Q=a.n(Y),Z=a(14),J=a(113),V=function(e){var t=e.friends.map((function(e){return T.a.createElement(J.a,{state:e,key:e.id})}));return t.length=6,T.a.createElement("nav",{className:Q.a.nav},T.a.createElement("div",{className:Q.a.item},T.a.createElement(Z.b,{to:"/profile",activeClassName:Q.a.active},"Profile")),T.a.createElement("div",{className:Q.a.item},T.a.createElement(Z.b,{to:"/dialogs",activeClassName:Q.a.active},"Messages")),T.a.createElement("div",{className:Q.a.item},T.a.createElement(Z.b,{to:"/news",activeClassName:Q.a.active},"News")),T.a.createElement("div",{className:Q.a.item},T.a.createElement(Z.b,{to:"/music",activeClassName:Q.a.active},"Music")),T.a.createElement("div",{className:"".concat(Q.a.item," ").concat(Q.a.setting)},T.a.createElement(Z.b,{to:"/setting",activeClassName:Q.a.active},"Setting")),T.a.createElement("div",{className:"".concat(Q.a.item," ").concat(Q.a.setting)},T.a.createElement(Z.b,{to:"/users",activeClassName:Q.a.active},"Users")),T.a.createElement("div",{className:"".concat(Q.a.item)},T.a.createElement(Z.b,{to:"/friends",activeClassName:Q.a.active},"Friends")),T.a.createElement("div",{className:Q.a.friend},t))},K=a(13),q=Object(K.b)((function(e){return{friends:e.friendsPage.friends}}))(V),$=a(33),ee=a.n($),te=function(e){return T.a.createElement("header",{className:ee.a.header},T.a.createElement("img",{alt:"Logotype",src:"https://liputan60.files.wordpress.com/2018/02/cropped-00106-3d-company-logo-design-free-logo-online-template-03.png?w=200"}),T.a.createElement("div",{className:ee.a.loginBlockPosition},e.isAuth?T.a.createElement("div",{className:ee.a.loginBlockName},"".concat(e.login,"   "),T.a.createElement("button",{onClick:function(){e.logout()},className:ee.a.loginBlockButton},"LOGOUT")):T.a.createElement("div",{className:ee.a.loginBlock},T.a.createElement(Z.b,{to:"/login",activeClassName:ee.a.active},"LOGIN"))))},ae=function(e){function t(){return Object(F.a)(this,t),Object(U.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return T.a.createElement(te,this.props)}}]),t}(T.a.Component),ne=Object(K.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.logout();case 2:e.sent.data.resultCode||t(b(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ae),re=a(125),se=a(126),ce=function(e){if(!e)return"Field is required"},oe=a(114),ie=a(39),ue=a.n(ie),le=function(e){var t=e.input,a=e.meta,n=Object(oe.a)(e,["input","meta"]),r=a.touched&&a.error;return T.a.createElement("div",{className:"".concat(ue.a.formControl," ").concat(r?ue.a.error:"")},T.a.createElement("div",null,"input"===n.types?T.a.createElement("input",Object.assign({},t,n)):T.a.createElement("textarea",Object.assign({},t,n))),r&&T.a.createElement("span",{className:ue.a.errorText},a.error))},de=(S=30,function(e){if(e.length>S)return"Max length is ".concat(S," symbols")}),me=Object(se.a)({form:"login"})((function(e){return T.a.createElement("form",{onSubmit:e.handleSubmit},T.a.createElement("div",null,T.a.createElement(re.a,{validate:[ce,de],name:"email",component:le,types:"input",placeholder:"Email"})),T.a.createElement("div",null,T.a.createElement(re.a,{validate:[ce,de],name:"password",component:le,types:"input",placeholder:"Password",type:"password"})),T.a.createElement("div",null,T.a.createElement(re.a,{name:"rememberMe",component:"input",type:"checkbox"})," remember me"),e.error&&T.a.createElement("div",{className:ue.a.errorText},e.error),T.a.createElement("div",null,T.a.createElement("button",null,"Sign in")))})),fe=Object(K.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,a){return function(){var n=Object(d.a)(l.a.mark((function n(r){var s,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.login(e,t,a);case 2:(s=n.sent).data.resultCode?(c=s.data.messages.length>0?s.data.messages[0]:"Some Error",r(Object(p.a)("login",{_error:c}))):r(v());case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return e.isAuth?T.a.createElement(R.a,{to:"/profile"}):T.a.createElement("div",null,T.a.createElement("h1",null,"Login"),T.a.createElement(me,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))})),pe=a(60),ge=function(e){return function(t){return T.a.createElement(k.Suspense,{fallback:T.a.createElement(pe.a,null)},T.a.createElement(e,t))}},he=T.a.lazy((function(){return a.e(5).then(a.bind(null,299))})),be=T.a.lazy((function(){return a.e(6).then(a.bind(null,300))})),ve=T.a.lazy((function(){return a.e(4).then(a.bind(null,298))})),Ee=T.a.lazy((function(){return a.e(3).then(a.bind(null,297))})),we=function(e){function t(){return Object(F.a)(this,t),Object(U.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?T.a.createElement("div",{className:D.a.wrapper},T.a.createElement(ne,null),T.a.createElement(q,null),T.a.createElement("div",{className:D.a.content},T.a.createElement(R.b,{path:"/dialogs",render:ge(he)}),T.a.createElement(R.b,{path:"/profile/:userId?",render:ge(Ee)}),T.a.createElement(R.b,{path:"/news",render:function(){return T.a.createElement(M,null)}}),T.a.createElement(R.b,{path:"/music",render:function(){return T.a.createElement(z,null)}}),T.a.createElement(R.b,{path:"/setting",render:function(){return T.a.createElement(G,null)}}),T.a.createElement(R.b,{path:"/users",render:ge(ve)}),T.a.createElement(R.b,{path:"/friends",render:ge(be)}),T.a.createElement(R.b,{path:"/login",render:function(){return T.a.createElement(fe,null)}})),T.a.createElement(W,null)):T.a.createElement(pe.a,null)}}]),t}(T.a.Component),_e=Object(n.d)(Object(K.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(v()).finally((function(){e({type:"/auth/me/INITIALIZED_SUCCESS"})}))}}}),R.f)(we);A.a.render(T.a.createElement(Z.a,null,T.a.createElement(K.a,{store:x},T.a.createElement(_e,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},33:function(e,t,a){e.exports={header:"Header_header__jNHyT",loginBlockPosition:"Header_loginBlockPosition__2Xu2F",loginBlockButton:"Header_loginBlockButton__2-k02",loginBlock:"Header_loginBlock__3vzsl",active:"Header_active__2880G",loginBlockName:"Header_loginBlockName__1Zrki"}},39:function(e,t,a){e.exports={formControl:"FormControl_formControl__e7Zms",error:"FormControl_error___XZeI",errorText:"FormControl_errorText__31o7d"}},60:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(134),c=a.n(s);t.a=function(){return r.a.createElement("img",{src:c.a,alt:"Loader"})}},8:function(e,t,a){e.exports={nav:"Navbar_nav__31ocV",item:"Navbar_item__aRDoY",active:"Navbar_active__2J4Ty",setting:"Navbar_setting__23d7Q",friend:"Navbar_friend__23CFe"}},85:function(e,t,a){e.exports={wrapper:"App_wrapper__2lv4I",content:"App_content__1wn3B"}},86:function(e,t,a){e.exports={item:"Friends_item__2kVw-"}},90:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return m})),a.d(t,"d",(function(){return p})),a.d(t,"e",(function(){return g}));var n=a(10),r=a.n(n),s=a(23),c=a(66),o=a(9),i=a(19),u="/profile/ADD-POST",l={posts:[{id:4,postText:"helo, how are you?",likes:10,src:"https://avatars.mds.yandex.net/get-pdb/1378807/02efeda4-5dd6-4f01-aa37-65eba04f077b/s1200"},{id:3,postText:"hdfghghdfhdfh",likes:15,src:"https://avatars.mds.yandex.net/get-pdb/1378807/02efeda4-5dd6-4f01-aa37-65eba04f077b/s1200"},{id:2,postText:"551++596",likes:7,src:"https://avatars.mds.yandex.net/get-pdb/1378807/02efeda4-5dd6-4f01-aa37-65eba04f077b/s1200"},{id:1,postText:"helo",likes:9,src:"https://avatars.mds.yandex.net/get-pdb/1378807/02efeda4-5dd6-4f01-aa37-65eba04f077b/s1200"}],profile:null,status:""},d=function(e){return{type:u,postText:e}},m=function(e){return function(t){i.c.getProfile(e).then((function(e){t({type:"/profile/SET_USER_PROFILE",profile:e.data})}))}},f=function(e){return{type:"/profile/SET_USER_STATUS",status:e}},p=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.getUserStatus(e);case 2:n=t.sent,a(f(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.updateUserStatus(e);case 2:0===t.sent.data.resultCode&&a(f(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var a=e.posts[0].id;return Object(o.a)({},e,{posts:[{id:a+1,postText:t.postText.newPost,likes:0,src:"https://www.nastol.com.ua/download.php?img=201112/1280x1024/nastol.com.ua-12179.jpg"}].concat(Object(c.a)(e.posts))});case"/profile/SET_USER_PROFILE":return Object(o.a)({},e,{profile:t.profile});case"/profile/SET_USER_STATUS":return Object(o.a)({},e,{status:t.status});default:return e}}},91:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(66),r=a(9),s={usersDialog:[{name:"Nail",id:1,src:"https://www.nastol.com.ua/download.php?img=201112/1280x1024/nastol.com.ua-12179.jpg"},{name:"Dasha",id:2,src:"https://avatars.mds.yandex.net/get-pdb/1706591/9d637326-f188-44f3-8117-76c62487dcd6/s1200"},{name:"Sasha",id:3,src:"http://www.topoboi.com/pic/201312/1440x900/topoboi.com-32873.jpg"},{name:"Petr",id:4,src:"https://avatars.mds.yandex.net/get-pdb/1942078/de777b22-35ba-4f83-925a-a95bb7ded7a1/s1200"},{name:"Dinar",id:5,src:"https://www.sunhome.ru/i/wallpapers/114/koshka-v3.orig.jpg"},{name:"Gena",id:6,src:"https://yt3.ggpht.com/a/AGF-l7-FVKXYlawwwX3FPFRUmbScWaQRXNFYMTe83Q=s900-c-k-c0xffffffff-no-rj-mo"},{name:"Masha",id:7,src:"https://avatars.mds.yandex.net/get-pdb/1365646/0d7c5f19-73d0-410d-a8ed-ec7529d8a167/s1200"},{name:"Sasha",id:8,src:"https://avatars.mds.yandex.net/get-pdb/195449/6eec6f67-e740-457e-9eb7-34bcde2f7082/s1200"}],messages:[{id:1,message:"Hello"},{id:2,message:"How are you"},{id:3,message:"Good. u?"},{id:4,message:"ok"},{id:5,message:"fuck"},{id:6,message:"Yo"},{id:7,message:"BlaBla"}]},c=function(e){return{type:"ADD-MESSAGE",message:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":var a=e.messages[e.messages.length-1].id;return Object(r.a)({},e,{messages:[].concat(Object(n.a)(e.messages),[{id:a+1,message:t.message}])});default:return e}}}},[[160,1,2]]]);
//# sourceMappingURL=main.2db75ce4.chunk.js.map