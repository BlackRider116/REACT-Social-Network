{"version":3,"sources":["assets/image/avatarDefault.jpg","common/Pagination/Pagination.module.css","styles/Users.module.scss","common/Pagination/Pagination.jsx","components/Navbar/Users/UserPage.jsx","components/Navbar/Users/Users.jsx","redux/selectorUsers.js","components/Navbar/Users/UsersContainer.jsx"],"names":["module","exports","Pagination","totalCount","usersCount","numberPage","onNumberPage","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","pagination","jump","displayNone","onClick","filter","p","map","pageNumber","buttonsColor","key","length","UserPage","users","deleteFollowThunk","postFollowThunk","u","id","to","alt","src","photos","small","avatarDefault","avatar","followed","name","status","Users","props","page","isLoading","Preloader","getUsers","state","usersPage","getUsersCount","getTotalCount","getNumberPage","getIsLoading","UsersContainer","getUsersThunk","this","React","Component","compose","connect"],"mappings":"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","file":"static/js/3.7f35c15d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatarDefault.6c93098b.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__1Ru4s\",\"displayNone\":\"Pagination_displayNone__FcH8C\",\"buttonsColor\":\"Pagination_buttonsColor__3XYj7\",\"jump\":\"Pagination_jump__9E_kH\",\"pageNumber\":\"Pagination_pageNumber__4ByWK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Users_avatar__3Albd\"};","import React, { useState } from \"react\";\r\nimport styles from \"./Pagination.module.css\";\r\n\r\nconst Pagination = ({totalCount, usersCount, numberPage, onNumberPage, portionSize = 10}) => {\r\n\r\n  let pagesCount = Math.ceil(totalCount / usersCount);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  const next = () => {\r\n    if(numberPage < leftPortionPageNumber){\r\n      onNumberPage(leftPortionPageNumber)\r\n    }\r\n    else if(numberPage >= rightPortionPageNumber){\r\n      onNumberPage(rightPortionPageNumber+1)\r\n      setPortionNumber(portionNumber+1)\r\n    }\r\n    else {\r\n      onNumberPage(numberPage+1)\r\n    }\r\n  }\r\n\r\n  const prev = () => {\r\n    if(numberPage > rightPortionPageNumber){\r\n      onNumberPage(rightPortionPageNumber)\r\n    }\r\n    else if(numberPage <= leftPortionPageNumber){\r\n      onNumberPage(leftPortionPageNumber-1)\r\n      setPortionNumber(portionNumber-1)\r\n    }\r\n    else {\r\n      onNumberPage(numberPage-1)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n   { totalCount !== 0 ? \r\n    <div className={styles.pagination}>\r\n      {<button className={portionNumber > 1 ? styles.jump : styles.displayNone } onClick={() => {setPortionNumber(portionNumber-1)}}>JUMP</button>}\r\n      {<button className={numberPage !== 1 ? styles.jump :  styles.displayNone } onClick={() => {prev()}}>PREV</button>}\r\n      {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map(p => {\r\n          return (\r\n            <button className={numberPage === p ? styles.pageNumber : styles.buttonsColor}\r\n              key={p} \r\n              onClick={() => {\r\n                onNumberPage(p);\r\n              }}\r\n            >{` ${p}`}</button>\r\n          );\r\n        })}\r\n      {<button className={pages.length !== numberPage ? styles.jump : styles.displayNone } onClick={() => {next()}}>NEXT</button>}\r\n      {<button className={portionCount > portionNumber ? styles.jump : styles.displayNone } onClick={() => {setPortionNumber(portionNumber+1)}}>JUMP</button>}\r\n      </div>\r\n     : null }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\nimport styles from \"../../../styles/Users.module.scss\";\r\nimport avatarDefault from \"./../../../assets/image/avatarDefault.jpg\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst UserPage = ({ users, deleteFollowThunk, postFollowThunk, ...props }) => {\r\n  return (\r\n    <div>\r\n      {users.map(u => (\r\n        <div key={u.id}>\r\n          <span>\r\n            <div>\r\n              <NavLink to={`/profile/${u.id}`}>\r\n                <img\r\n                  alt=\"avatarDefault\"\r\n                  src={u.photos.small !== null ? u.photos.small : avatarDefault}\r\n                  className={styles.avatar}\r\n                />\r\n              </NavLink>\r\n            </div>\r\n            <div>\r\n              {u.followed ? (\r\n                <button\r\n                  onClick={() => {\r\n                    deleteFollowThunk(u.id);\r\n                  }}\r\n                >\r\n                  Unsubscribe\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  onClick={() => {\r\n                    postFollowThunk(u.id);\r\n                  }}\r\n                >\r\n                  Subscribe\r\n                </button>\r\n              )}\r\n            </div>\r\n          </span>\r\n          <span>\r\n            <span>\r\n              <div>{u.name}</div>\r\n              <div>\r\n                {u.status ? u.status : \"<<<Not indicated>>>\"}\r\n              </div>\r\n            </span>\r\n          </span>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPage;\r\n","import React from \"react\";\r\nimport Preloader from \"../../../common/Preloader/Preloader\";\r\nimport Pagination from \"../../../common/Pagination/Pagination\";\r\nimport UserPage from \"./UserPage\";\r\n\r\nconst Users = ({totalCount, usersCount, numberPage, onNumberPage, ...props}) => {\r\n  const page = { totalCount, usersCount, numberPage, onNumberPage };\r\n  return (\r\n    <div>\r\n      <Pagination {...page} />\r\n      {props.isLoading ? <Preloader /> : <UserPage {...props} /> }     \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","// import { createSelector } from \"reselect\"\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersCount = (state) => {\r\n    return state.usersPage.usersCount\r\n}\r\n\r\nexport const getTotalCount = (state) => {\r\n    return state.usersPage.totalCount\r\n}\r\n\r\nexport const getNumberPage = (state) => {\r\n    return state.usersPage.numberPage\r\n}\r\n\r\nexport const getIsLoading = (state) => {\r\n    return state.usersPage.isLoading\r\n}","import React from \"react\";\r\nimport Users from \"./Users\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  getUsersThunk,\r\n  postFollowThunk,\r\n  deleteFollowThunk\r\n} from \"../../../redux/reduceUsers\";\r\nimport { compose } from \"redux\";\r\nimport { getUsers, getUsersCount, getTotalCount, getNumberPage, getIsLoading } from \"../../../redux/selectorUsers\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsersThunk(this.props.usersCount, this.props.pageNumber);\r\n  }\r\n\r\n  onNumberPage = pageNumber => {\r\n    this.props.getUsersThunk(this.props.usersCount, pageNumber);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Users\r\n        isLoading={this.props.isLoading}\r\n        totalCount={this.props.totalCount}\r\n        usersCount={this.props.usersCount}\r\n        numberPage={this.props.numberPage}\r\n        users={this.props.users}\r\n        onNumberPage={this.onNumberPage}\r\n        postFollowThunk={this.props.postFollowThunk}\r\n        deleteFollowThunk={this.props.deleteFollowThunk}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    users: getUsers(state),\r\n    usersCount: getUsersCount(state),\r\n    totalCount: getTotalCount(state),\r\n    numberPage: getNumberPage(state),\r\n    isLoading: getIsLoading(state)\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    postFollowThunk,\r\n    deleteFollowThunk,\r\n    getUsersThunk\r\n  })\r\n)(UsersContainer);\r\n"],"sourceRoot":""}