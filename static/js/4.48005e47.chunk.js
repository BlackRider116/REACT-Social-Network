(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{590:function(e,t,a){e.exports={global:"Profile_global__2dASZ",profileInfoCard:"Profile_profileInfoCard__24Dx_",profileInfo:"Profile_profileInfo__77Yjz",status__text:"Profile_status__text__CN9Hc",profilePost:"Profile_profilePost__2pgMq",profilePostItem:"Profile_profilePostItem__3fX0W",profilePostLikes:"Profile_profilePostLikes__XhHl3",deleteLocalStorage:"Profile_deleteLocalStorage__311b3",myPosts:"Profile_myPosts__M2MUQ",inputStyle_Name:"Profile_inputStyle_Name__2jh8i",inputStyle:"Profile_inputStyle__3Q7s7",aboutMe:"Profile_aboutMe__1D6E8"}},591:function(e,t,a){e.exports=a.p+"static/media/avatarDefault.6c93098b.jpg"},592:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var l=a(74),n=a(75),r=a(76),o=a(77),i=a(78),s=a(0),c=a.n(s),u=a(66),p=a(31),m=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){function a(){return Object(l.a)(this,a),Object(r.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(i.a)(a,t),Object(n.a)(a,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(u.a,{to:"/login"})}}]),a}(c.a.Component);return Object(p.b)(m)(t)}},612:function(e,t,a){"use strict";var l=a(0),n={name:"delete",theme:"filled",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]}},r=a(60),o=function(e,t){return l.createElement(r.a,Object.assign({},e,{ref:t,icon:n}))};o.displayName="DeleteFilled";t.a=l.forwardRef(o)},613:function(e,t,a){"use strict";a.r(t);var l=a(74),n=a(75),r=a(76),o=a(77),i=a(78),s=a(0),c=a.n(s),u=a(31),p=a(66),m=a(17),f=a(204),d=a(202),h=a(591),E=a.n(h),v=a(590),b=a.n(v),g=function(e){var t=Object(s.useState)(!1),a=Object(f.a)(t,2),l=a[0],n=a[1],r=Object(s.useState)(e.status),o=Object(f.a)(r,2),i=o[0],u=o[1],p=e.match.params.userId;Object(s.useEffect)((function(){u(e.status)}),[e.status]);return c.a.createElement("div",{className:b.a.profileInfoItem},!l&&c.a.createElement("div",{className:b.a.status__text,onClick:function(){void 0===p&&n(!0)}},e.status),l&&c.a.createElement("div",{style:{cursor:"pointer"}},c.a.createElement("input",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441",onChange:function(e){u(e.currentTarget.value)},onBlur:function(){setTimeout((function(){n(!1)}),500)},autoFocus:!0,value:i}),c.a.createElement("button",{onClick:function(){n(!1),e.updateUserStatus(i)}},"OK")))},y=a(83),P=a.n(y),k=a(276),O=a(108),j=a(107),_=Object(k.a)({form:"profileUserInfo"})((function(e){var t=e.profile,a=e.error,l=Object(d.a)(e,["profile","error"]);return c.a.createElement("form",{onSubmit:l.handleSubmit},c.a.createElement("button",{type:"submit",ref:l.saveProfileBtn,style:{display:"none"}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),c.a.createElement("div",null,a&&c.a.createElement("div",{className:P.a.errorText},a)),c.a.createElement("div",null,c.a.createElement("div",{className:b.a.inputStyle_Name},c.a.createElement("b",null,"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f: "),c.a.createElement("div",null,Object(O.a)(j.b,"fullName","input",null,null,t.fullName))),c.a.createElement("div",{className:b.a.inputStyle},c.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "),c.a.createElement("div",null,Object.keys(t.contacts).map((function(e){return c.a.createElement("span",{key:e,style:{display:"flex",alignItems:"center"}},c.a.createElement("b",null,e,": "),Object(O.a)([],"contacts."+e,"input",e,null))}))))))})),w=Object(k.a)({form:"profileUserInfoAboutMe"})((function(e){e.profile;var t=e.error,a=Object(d.a)(e,["profile","error"]);return c.a.createElement("form",{onSubmit:a.handleSubmit},c.a.createElement("button",{type:"submit",ref:a.saveProfileBtn,style:{display:"none"}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),c.a.createElement("span",null,t&&c.a.createElement("span",{className:P.a.errorText},t)),c.a.createElement("div",{className:b.a.aboutMe},c.a.createElement("div",null,c.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435: "),Object(O.a)(j.b,"aboutMe",null)),c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement("b",null,"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: ")," ",Object(O.a)([],"lookingForAJob","input",null,"checkbox")),c.a.createElement("div",null,c.a.createElement("b",null,"\u041c\u043e\u0439 \u0441\u043a\u0438\u043b\u043b: "),Object(O.a)(j.b,"lookingForAJobDescription",null,null,null))))})),S=function(e){var t=e.profile;return c.a.createElement("div",null,c.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "),Object.keys(t.contacts).map((function(e){return c.a.createElement("div",{key:e,style:{marginLeft:"15px"}},null!==t.contacts[e]&&""!==t.contacts[e]&&c.a.createElement("div",null,c.a.createElement("b",null,e,": "),t.contacts[e]))})))},I=function(e){var t=e.profile;return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435: "),c.a.createElement("div",{style:{marginLeft:"10px",width:"60%"}},t.aboutMe)),c.a.createElement("div",{style:{display:"flex",alignItem:"center"}},c.a.createElement("b",null,"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: "),c.a.createElement("h5",{style:{marginLeft:"10px"}},t.lookingForAJob?c.a.createElement("span",{style:{color:"green"}},"Yes"):c.a.createElement("span",{style:{color:"red"}},"No"))),c.a.createElement("div",null,c.a.createElement("b",null,"\u041c\u043e\u0438 \u0441\u043a\u0438\u043b\u043b\u044b: "),c.a.createElement("div",{style:{marginLeft:"10px",width:"60%"}},t.lookingForAJobDescription)))},x=a(294),N=a(146),T=a(30),F=function(e){var t=e.profileUpdate,a=Object(d.a)(e,["profileUpdate"]),l=c.a.createRef(),n=Object(s.useState)(!1),r=Object(f.a)(n,2),o=r[0],i=r[1],u=Object(s.useState)(!1),p=Object(f.a)(u,2),m=p[0],h=p[1],v=function(e){e!==a.profile?a.saveProfile(e):!1!==t&&(i(!1),h(!1))};Object(s.useEffect)((function(){!0===t&&(i(!1),h(!1))}),[t]);var y=c.a.createRef();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:b.a.profileInfoCard},c.a.createElement("div",{className:b.a.profileInfo},c.a.createElement("img",{src:null!==a.profile.photos.large?a.profile.photos.large:E.a,alt:"AvaPhoto"}),c.a.createElement("input",{ref:l,type:"file",onChange:function(e){e.target.files.length&&a.savePhoto(e.target.files[0])},style:{display:"none"}}),a.isOwner?c.a.createElement("div",{style:{marginTop:"5px"}},c.a.createElement("div",null,a.isFollow?c.a.createElement(x.a,{style:{width:"250px"},variant:"danger",onClick:function(){return a.onFollowThunk(a.profile.userId,a.isFollow)}},"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"):c.a.createElement(x.a,{style:{width:"250px"},variant:"success",onClick:function(){return a.onFollowThunk(a.profile.userId,a.isFollow)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f")),c.a.createElement("div",{style:{marginTop:"3px"}},c.a.createElement(T.b,{to:"/dialogs/".concat(a.profile.userId)},c.a.createElement(x.a,{style:{width:"250px"},onClick:function(){return a.startDialogThunk(a.profile.userId)}},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")))):c.a.createElement("div",{style:{paddingTop:"3px"}},c.a.createElement(x.a,{style:{width:"250px"},onClick:function(){return l.current.click()},variant:"secondary"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e"),a.isOwner||o||m?c.a.createElement(x.a,{style:{marginTop:"3px",width:"250px"},variant:"success",onClick:function(){return y.current.click()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"):c.a.createElement(N.a,null,c.a.createElement(N.a.Toggle,{style:{marginTop:"3px",width:"250px"}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"),c.a.createElement(N.a.Menu,{style:{width:"250px"}},c.a.createElement(N.a.Item,{onClick:function(){return i(!0)}},"\u0418\u043c\u044f \u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),c.a.createElement(N.a.Item,{onClick:function(){return h(!0)}},"\u041e\u0431\u043e \u043c\u043d\u0435"))))),c.a.createElement("div",{style:{margin:"10px"}},c.a.createElement("h3",null,a.profile.fullName),c.a.createElement(g,a),c.a.createElement("div",{style:{marginLeft:"10px"}},o?c.a.createElement(_,Object.assign({},a,{onSubmit:v,initialValues:a.profile,saveProfileBtn:y})):c.a.createElement(S,{profile:a.profile})))),c.a.createElement("div",{style:{marginLeft:"10px"}},m?c.a.createElement(w,Object.assign({},a,{onSubmit:v,initialValues:a.profile,saveProfileBtn:y})):c.a.createElement(I,{profile:a.profile})))},M=a(588),U=a(612),C=function(e){var t=e.posts,a=Object(d.a)(e,["posts"]);return c.a.createElement(M.a,{className:b.a.profilePost},c.a.createElement("div",{className:b.a.profilePostItem},c.a.createElement("img",{alt:"Post",src:a.avaPhoto}),c.a.createElement("span",null,t.postText)),c.a.createElement("div",{className:b.a.profilePostLikes},c.a.createElement("span",null,"\ud83d\udc97 ".concat(t.likes,"  ")),c.a.createElement(x.a,{variant:"success",onClick:function(){return a.likeDislikeMyPost(t.id,!0)}},c.a.createElement("span",null,"\ud83d\udc4d")),c.a.createElement(x.a,{variant:"danger",onClick:function(){return a.likeDislikeMyPost(t.id,!1)}},c.a.createElement("span",null,"\ud83d\udc4e")),c.a.createElement(x.a,{variant:"dark",style:{float:"right"},onClick:function(){return a.deleteMyPost(t.id)}},c.a.createElement(U.a,{style:{color:"red"}}))))},D=a(192),A=a(68),L=a(115),B=Object(k.a)({form:"myNewPost"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("div",{className:b.a.myPosts},c.a.createElement(D.a,{name:"newPost",component:"textarea"}),c.a.createElement(x.a,{type:"submit"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))})),H=Object(m.d)(Object(u.b)((function(e){return{posts:e.profilePage.posts,avaPhoto:e.profilePage.profile.photos.small}}),{addNewPost:L.a.addNewPost,likeDislikeMyPost:L.e,deleteMyPost:L.a.deleteMyPost}),p.g)((function(e){var t=e.posts.map((function(t){return c.a.createElement(C,{avaPhoto:e.avaPhoto,posts:t,key:t.id,likeDislikeMyPost:e.likeDislikeMyPost,deleteMyPost:e.deleteMyPost})})),a=e.match.params.userId;return localStorage.setItem("MyPosts",JSON.stringify(e.posts)),c.a.createElement(c.a.Fragment,null,!a&&c.a.createElement("div",null,c.a.createElement(B,{onSubmit:function(t,a){e.addNewPost(t.newPost,e.avaPhoto),a(Object(A.a)("myNewPost"))}}),c.a.createElement("div",{style:{marginBottom:"10px"}},t),c.a.createElement("div",{className:b.a.deleteLocalStorage},c.a.createElement(x.a,{variant:"danger",onClick:function(){return localStorage.removeItem("MyPosts")}},"\u041e\u0447\u0438c\u0442\u0438\u0442\u044c localStorage"))))})),J=a(80),z=function(e){return e.profile?c.a.createElement(M.a,{className:b.a.global},c.a.createElement(F,Object.assign({},e,{isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile,status:e.status,updateUserStatus:e.updateUserStatus,profileUpdateSuccess:e.profileUpdateSuccess,startDialogThunk:e.startDialogThunk,isFollow:e.isFollow,onFollowThunk:e.onFollowThunk})),c.a.createElement(H,null)):c.a.createElement(J.a,null)},R=a(592),Q=a(203),V=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(n.a)(t,[{key:"userProfileId",value:function(){var e=this.props.match.params.userId;!e&&this.props.isAuth&&(e=this.props.authUserId),e||this.props.isAuth||this.props.history.push("/login"),this.props.getProfileThunk(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.userProfileId()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.userProfileId()}},{key:"render",value:function(){return c.a.createElement(z,Object.assign({},this.props,{isOwner:this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,profileUpdateSuccess:this.props.profileUpdateSuccess,startDialogThunk:this.props.startDialogThunk,isFollow:this.props.isFollow,onFollowThunk:this.props.onFollowThunk}))}}]),t}(c.a.Component);t.default=Object(m.d)(Object(u.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,profileUpdate:e.profilePage.profileUpdate,isFollow:e.profilePage.isFollow,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getProfileThunk:L.c,getUserStatus:L.d,updateUserStatus:L.i,savePhoto:L.g,saveProfile:L.h,profileUpdateSuccess:L.a.profileUpdateSuccess,startDialogThunk:Q.g,onFollowThunk:L.f}),p.g,R.a)(V)}}]);
//# sourceMappingURL=4.48005e47.chunk.js.map