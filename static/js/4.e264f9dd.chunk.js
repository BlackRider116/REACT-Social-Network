(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{598:function(e,t,a){e.exports=a.p+"static/media/avatarDefault.6c93098b.jpg"},599:function(e,t,a){e.exports={global:"Profile_global__31cT2",profileInfoCard:"Profile_profileInfoCard__LeQYc",profileInfo:"Profile_profileInfo__2sBOv",status__text:"Profile_status__text__3zloh",profilePost:"Profile_profilePost__21OrU",profilePostItem:"Profile_profilePostItem__3Jhm2",profilePostLikes:"Profile_profilePostLikes__3ZMLk",deleteLocalStorage:"Profile_deleteLocalStorage__11Xy8",myPosts:"Profile_myPosts__2Qh9v",inputStyle_Name:"Profile_inputStyle_Name__3uY8-",inputStyle:"Profile_inputStyle__3ciuo",aboutMe:"Profile_aboutMe__2etLU"}},600:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var l=a(79),n=a(80),r=a(81),o=a(82),i=a(83),s=a(0),c=a.n(s),u=a(70),p=a(24),m=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){function a(){return Object(l.a)(this,a),Object(r.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(i.a)(a,t),Object(n.a)(a,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(u.a,{to:"/login"})}}]),a}(c.a.Component);return Object(p.b)(m)(t)}},620:function(e,t,a){"use strict";var l=a(0),n={name:"delete",theme:"filled",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]}},r=a(53),o=function(e,t){return l.createElement(r.a,Object.assign({},e,{ref:t,icon:n}))};o.displayName="DeleteFilled";t.a=l.forwardRef(o)},621:function(e,t,a){"use strict";a.r(t);var l=a(79),n=a(80),r=a(81),o=a(82),i=a(83),s=a(0),c=a.n(s),u=a(24),p=a(70),m=a(19),f=a(210),d=a(208),h=a(598),v=a.n(h),E=a(599),b=a.n(E),y=function(e){var t=Object(s.useState)(!1),a=Object(f.a)(t,2),l=a[0],n=a[1],r=Object(s.useState)(e.status),o=Object(f.a)(r,2),i=o[0],u=o[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return c.a.createElement("div",{className:b.a.profileInfoItem},l?c.a.createElement("div",{style:{cursor:"pointer"}},c.a.createElement("input",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441",onChange:function(e){u(e.currentTarget.value)},onBlur:function(){setTimeout((function(){n(!1)}),500)},autoFocus:!0,value:i}),c.a.createElement("button",{onClick:function(){n(!1),e.updateUserStatus(i)}},"OK")):c.a.createElement("div",{className:b.a.status__text,onClick:function(){e.isOwner||n(!0)}},e.status))},P=a(143),g=a.n(P),k=a(282),O=a(112),w=a(111),_=Object(k.a)({form:"profileUserInfo"})((function(e){var t=e.profile,a=e.error,l=Object(d.a)(e,["profile","error"]);return c.a.createElement("form",{onSubmit:l.handleSubmit},c.a.createElement("button",{type:"submit",ref:l.saveProfileBtn,style:{display:"none"}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),c.a.createElement("div",null,a&&c.a.createElement("div",{className:g.a.errorText},a)),c.a.createElement("div",null,c.a.createElement("div",{className:b.a.inputStyle_Name},c.a.createElement("b",null,"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f: "),c.a.createElement("div",null,Object(O.a)(w.b,"fullName","input",void 0,void 0))),c.a.createElement("div",{className:b.a.inputStyle},c.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "),c.a.createElement("div",null,Object.keys(t.contacts).map((function(e){return c.a.createElement("span",{key:e,style:{display:"flex",alignItems:"center"}},c.a.createElement("b",null,e,": "),Object(O.a)([],"contacts."+e,"input",e,void 0))}))))))})),j=Object(k.a)({form:"profileUserInfoAboutMe"})((function(e){e.profile;var t=e.error,a=Object(d.a)(e,["profile","error"]);return c.a.createElement("form",{onSubmit:a.handleSubmit},c.a.createElement("button",{type:"submit",ref:a.saveProfileBtn,style:{display:"none"}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),c.a.createElement("span",null,t&&c.a.createElement("span",{className:g.a.errorText},t)),c.a.createElement("div",{className:b.a.aboutMe},c.a.createElement("div",null,c.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435: "),Object(O.a)(w.b,"aboutMe",void 0,void 0,void 0)),c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement("b",null,"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: ")," ",Object(O.a)([],"lookingForAJob","input",void 0,"checkbox")),c.a.createElement("div",null,c.a.createElement("b",null,"\u041c\u043e\u0439 \u0441\u043a\u0438\u043b\u043b: "),Object(O.a)(w.b,"lookingForAJobDescription",void 0,void 0,void 0))))})),S=function(e){var t=e.contacts;return c.a.createElement("div",null,c.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "),Object.keys(t).map((function(e){return c.a.createElement("div",{key:e,style:{marginLeft:"15px"}},null!==t[e]&&""!==t[e]&&c.a.createElement("div",null,c.a.createElement("b",null,e,": "),t[e]))})))},I=function(e){return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435: "),c.a.createElement("div",{style:{marginLeft:"10px",width:"60%"}},e.aboutMe)),c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement("b",null,"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: "),c.a.createElement("h5",{style:{marginLeft:"10px"}},e.lookingForAJob?c.a.createElement("span",{style:{color:"green"}},"Yes"):c.a.createElement("span",{style:{color:"red"}},"No"))),c.a.createElement("div",null,c.a.createElement("b",null,"\u041c\u043e\u0438 \u0441\u043a\u0438\u043b\u043b\u044b: "),c.a.createElement("div",{style:{marginLeft:"10px",width:"60%"}},e.lookingForAJobDescription)))},x=a(299),N=a(590),F=a(592),U=a(153),T=a(33),M=function(e){var t=e.profileUpdate,a=Object(d.a)(e,["profileUpdate"]),l=Object(s.useState)(!1),n=Object(f.a)(l,2),r=n[0],o=n[1],i=Object(s.useState)(!1),u=Object(f.a)(i,2),p=u[0],m=u[1],h=function(e){e!==a.profile?a.saveProfile(e):!1!==t&&(o(!1),m(!1))};Object(s.useEffect)((function(){!0===t&&(o(!1),m(!1))}),[t]);var E=c.a.createRef(),P=c.a.createRef();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:b.a.profileInfoCard},c.a.createElement("div",{className:b.a.profileInfo},c.a.createElement("img",{src:null!==a.profile&&null!==a.profile.photos.large?a.profile.photos.large:v.a,alt:"AvaPhoto"}),c.a.createElement("input",{ref:E,type:"file",onChange:function(e){null!==e.target.files&&e.target.files.length&&a.savePhoto(e.target.files[0])},style:{display:"none"}}),a.isOwner?c.a.createElement("div",{style:{marginTop:"5px"}},c.a.createElement("div",null,a.isFollow?c.a.createElement(x.a,{style:{width:"250px"},variant:"danger",onClick:function(){return a.onFollowThunk(a.profile.userId,a.isFollow)}},"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"):c.a.createElement(x.a,{style:{width:"250px"},variant:"success",onClick:function(){return a.onFollowThunk(a.profile.userId,a.isFollow)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f")),c.a.createElement("div",{style:{marginTop:"3px"}},c.a.createElement(T.b,{to:"/dialogs/".concat(a.profile.userId)},c.a.createElement(x.a,{style:{width:"250px"},onClick:function(){return a.startDialogThunk(a.profile.userId)}},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")))):c.a.createElement("div",{style:{paddingTop:"3px"}},c.a.createElement(x.a,{style:{width:"250px"},onClick:function(){E.current&&E.current.click()},variant:"secondary"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e"),a.isOwner||r||p?c.a.createElement(x.a,{style:{marginTop:"3px",width:"250px"},variant:"success",onClick:function(){P.current&&P.current.click()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"):c.a.createElement(N.a,{key:"DropdownButton",as:F.a,id:"dropdown-variant-primary",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",style:{marginTop:"3px",width:"100%"}},c.a.createElement(U.a.Item,{style:{width:"250px"},onClick:function(){return o(!0)}},"\u0418\u043c\u044f \u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),c.a.createElement(U.a.Item,{style:{width:"250px"},onClick:function(){return m(!0)}},"\u041e\u0431\u043e \u043c\u043d\u0435")))),c.a.createElement("div",{style:{margin:"10px"}},c.a.createElement("h3",null,a.profile.fullName),c.a.createElement(y,{isOwner:a.isOwner,status:a.status,updateUserStatus:a.updateUserStatus}),c.a.createElement("div",{style:{marginLeft:"10px"}},r?c.a.createElement(_,{onSubmit:h,profile:a.profile,initialValues:a.profile,saveProfileBtn:P}):c.a.createElement(S,{contacts:a.profile.contacts})))),c.a.createElement("div",{style:{marginLeft:"10px"}},p?c.a.createElement(j,{onSubmit:h,profile:a.profile,initialValues:a.profile,saveProfileBtn:P}):c.a.createElement(I,{aboutMe:a.profile.aboutMe,lookingForAJob:a.profile.lookingForAJob,lookingForAJobDescription:a.profile.lookingForAJobDescription})))},C=a(595),D=a(620),A=function(e){var t=e.posts,a=Object(d.a)(e,["posts"]);return c.a.createElement(C.a,{className:b.a.profilePost},c.a.createElement("div",{className:b.a.profilePostItem},c.a.createElement("img",{alt:"Post",src:null!==a.avaPhoto?a.avaPhoto:v.a}),c.a.createElement("span",null,t.postText)),c.a.createElement("div",{className:b.a.profilePostLikes},c.a.createElement("span",null,"\ud83d\udc97 ".concat(t.likes,"  ")),c.a.createElement(x.a,{variant:"success",onClick:function(){return a.likeDislikeMyPost(t.id,!0)}},c.a.createElement("span",null,"\ud83d\udc4d")),c.a.createElement(x.a,{variant:"danger",onClick:function(){return a.likeDislikeMyPost(t.id,!1)}},c.a.createElement("span",null,"\ud83d\udc4e")),c.a.createElement(x.a,{variant:"dark",style:{float:"right"},onClick:function(){return a.deleteMyPost(t.id)}},c.a.createElement(D.a,{style:{color:"red"}}))))},L=a(72),J=a(197),B=a(209),H=Object(k.a)({form:"myNewPost"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("div",{className:b.a.myPosts},c.a.createElement(J.a,{name:"newPost",component:"textarea"}),c.a.createElement(x.a,{type:"submit"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))})),z=Object(m.d)(Object(u.b)((function(e){return{posts:e.profilePage.posts,avaPhoto:null!==e.profilePage.profile?e.profilePage.profile.photos.small:null}}),{addNewPost:B.a.addNewPost,likeDislikeMyPost:B.e,deleteMyPost:B.a.deleteMyPost,deleteAllMyPosts:B.a.deleteAllMyPosts}),p.g)((function(e){var t=e.posts.map((function(t){return c.a.createElement(A,{avaPhoto:e.avaPhoto,posts:t,key:t.id,likeDislikeMyPost:e.likeDislikeMyPost,deleteMyPost:e.deleteMyPost})})),a=e.match.params.userId;return localStorage.setItem("MyPosts",JSON.stringify(e.posts)),c.a.createElement(c.a.Fragment,null,!a&&c.a.createElement("div",null,c.a.createElement(H,{onSubmit:function(t,a){e.addNewPost(t.newPost,e.avaPhoto),a(Object(L.a)("myNewPost"))}}),c.a.createElement("div",{style:{marginBottom:"10px"}},t),c.a.createElement("div",{className:b.a.deleteLocalStorage},0!==e.posts.length&&c.a.createElement(x.a,{variant:"danger",onClick:function(){localStorage.removeItem("MyPosts"),e.deleteAllMyPosts()}},"\u041e\u0447\u0438c\u0442\u0438\u0442\u044c localStorage \u0438 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442\u044b"))))})),R=a(85),Y=function(e){return e.profile?c.a.createElement(C.a,{className:b.a.global},c.a.createElement(M,{profile:e.profile,profileUpdate:e.profileUpdate,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile,status:e.status,updateUserStatus:e.updateUserStatus,startDialogThunk:e.startDialogThunk,isFollow:e.isFollow,onFollowThunk:e.onFollowThunk}),c.a.createElement(z,null)):c.a.createElement(R.a,null)},Q=a(600),V=a(120),K=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(n.a)(t,[{key:"userProfileId",value:function(){var e=this.props.match.params.userId;this.props.isAuth&&(e?(this.props.getProfileThunk(Number(e)),this.props.getUserStatus(Number(e))):null!==this.props.authUserId&&(this.props.getProfileThunk(this.props.authUserId),this.props.getUserStatus(this.props.authUserId)))}},{key:"componentDidMount",value:function(){this.userProfileId()}},{key:"componentDidUpdate",value:function(e){this.props.match.url!==e.match.url&&this.userProfileId()}},{key:"render",value:function(){return c.a.createElement(Y,{isOwner:Number(this.props.match.params.userId),profile:this.props.profile,status:this.props.status,profileUpdate:this.props.profileUpdate,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,startDialogThunk:this.props.startDialogThunk,isFollow:this.props.isFollow,onFollowThunk:this.props.onFollowThunk})}}]),t}(c.a.Component);t.default=Object(m.d)(Object(u.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,profileUpdate:e.profilePage.profileUpdate,isFollow:e.profilePage.isFollow,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getProfileThunk:B.c,getUserStatus:B.d,updateUserStatus:B.i,savePhoto:B.g,saveProfile:B.h,startDialogThunk:V.h,onFollowThunk:B.f}),p.g,Q.a)(K)}}]);
//# sourceMappingURL=4.e264f9dd.chunk.js.map