(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{597:function(e,t,a){e.exports=a.p+"static/media/avatarDefault.6c93098b.jpg"},598:function(e,t,a){e.exports={global:"Profile_global__2dASZ",profileInfoCard:"Profile_profileInfoCard__24Dx_",profileInfo:"Profile_profileInfo__77Yjz",status__text:"Profile_status__text__CN9Hc",profilePost:"Profile_profilePost__2pgMq",profilePostItem:"Profile_profilePostItem__3fX0W",profilePostLikes:"Profile_profilePostLikes__XhHl3",deleteLocalStorage:"Profile_deleteLocalStorage__311b3",myPosts:"Profile_myPosts__M2MUQ",inputStyle_Name:"Profile_inputStyle_Name__2jh8i",inputStyle:"Profile_inputStyle__3Q7s7",aboutMe:"Profile_aboutMe__1D6E8"}},599:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var l=a(78),n=a(79),r=a(80),o=a(81),i=a(82),s=a(0),c=a.n(s),u=a(70),p=a(24),m=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){function a(){return Object(l.a)(this,a),Object(r.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(i.a)(a,t),Object(n.a)(a,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(u.a,{to:"/login"})}}]),a}(c.a.Component);return Object(p.b)(m)(t)}},619:function(e,t,a){"use strict";var l=a(0),n={name:"delete",theme:"filled",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]}},r=a(53),o=function(e,t){return l.createElement(r.a,Object.assign({},e,{ref:t,icon:n}))};o.displayName="DeleteFilled";t.a=l.forwardRef(o)},620:function(e,t,a){"use strict";a.r(t);var l=a(78),n=a(79),r=a(80),o=a(81),i=a(82),s=a(0),c=a.n(s),u=a(24),p=a(70),m=a(18),f=a(209),d=a(207),h=a(597),v=a.n(h),E=a(598),b=a.n(E),g=function(e){var t=Object(s.useState)(!1),a=Object(f.a)(t,2),l=a[0],n=a[1],r=Object(s.useState)(e.status),o=Object(f.a)(r,2),i=o[0],u=o[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return c.a.createElement("div",{className:b.a.profileInfoItem},l?c.a.createElement("div",{style:{cursor:"pointer"}},c.a.createElement("input",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441",onChange:function(e){u(e.currentTarget.value)},onBlur:function(){setTimeout((function(){n(!1)}),500)},autoFocus:!0,value:i}),c.a.createElement("button",{onClick:function(){n(!1),e.updateUserStatus(i)}},"OK")):c.a.createElement("div",{className:b.a.status__text,onClick:function(){void 0===e.isOwner&&n(!0)}},e.status))},y=a(143),P=a.n(y),k=a(281),O=a(112),j=a(111),w=Object(k.a)({form:"profileUserInfo"})((function(e){var t=e.profile,a=e.error,l=Object(d.a)(e,["profile","error"]);return c.a.createElement("form",{onSubmit:l.handleSubmit},c.a.createElement("button",{type:"submit",ref:l.saveProfileBtn,style:{display:"none"}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),c.a.createElement("div",null,a&&c.a.createElement("div",{className:P.a.errorText},a)),c.a.createElement("div",null,c.a.createElement("div",{className:b.a.inputStyle_Name},c.a.createElement("b",null,"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f: "),c.a.createElement("div",null,Object(O.a)(j.b,"fullName","input",null,null,t.fullName))),c.a.createElement("div",{className:b.a.inputStyle},c.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "),c.a.createElement("div",null,Object.keys(t.contacts).map((function(e){return c.a.createElement("span",{key:e,style:{display:"flex",alignItems:"center"}},c.a.createElement("b",null,e,": "),Object(O.a)([],"contacts."+e,"input",e,null))}))))))})),_=Object(k.a)({form:"profileUserInfoAboutMe"})((function(e){e.profile;var t=e.error,a=Object(d.a)(e,["profile","error"]);return c.a.createElement("form",{onSubmit:a.handleSubmit},c.a.createElement("button",{type:"submit",ref:a.saveProfileBtn,style:{display:"none"}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),c.a.createElement("span",null,t&&c.a.createElement("span",{className:P.a.errorText},t)),c.a.createElement("div",{className:b.a.aboutMe},c.a.createElement("div",null,c.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435: "),Object(O.a)(j.b,"aboutMe",null)),c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement("b",null,"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: ")," ",Object(O.a)([],"lookingForAJob","input",null,"checkbox")),c.a.createElement("div",null,c.a.createElement("b",null,"\u041c\u043e\u0439 \u0441\u043a\u0438\u043b\u043b: "),Object(O.a)(j.b,"lookingForAJobDescription",null,null,null))))})),S=function(e){var t=e.profile;return c.a.createElement("div",null,c.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "),Object.keys(t.contacts).map((function(e){return c.a.createElement("div",{key:e,style:{marginLeft:"15px"}},null!==t.contacts[e]&&""!==t.contacts[e]&&c.a.createElement("div",null,c.a.createElement("b",null,e,": "),t.contacts[e]))})))},x=function(e){var t=e.profile;return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435: "),c.a.createElement("div",{style:{marginLeft:"10px",width:"60%"}},t.aboutMe)),c.a.createElement("div",{style:{display:"flex",alignItem:"center"}},c.a.createElement("b",null,"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: "),c.a.createElement("h5",{style:{marginLeft:"10px"}},t.lookingForAJob?c.a.createElement("span",{style:{color:"green"}},"Yes"):c.a.createElement("span",{style:{color:"red"}},"No"))),c.a.createElement("div",null,c.a.createElement("b",null,"\u041c\u043e\u0438 \u0441\u043a\u0438\u043b\u043b\u044b: "),c.a.createElement("div",{style:{marginLeft:"10px",width:"60%"}},t.lookingForAJobDescription)))},N=a(298),I=a(590),U=a(2),M=a(6),T=a(7),F=a.n(T),C=a(13),D=c.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.size,n=e.toggle,r=e.vertical,o=e.className,i=e.as,s=void 0===i?"div":i,u=Object(M.a)(e,["bsPrefix","size","toggle","vertical","className","as"]),p=Object(C.b)(a,"btn-group"),m=p;return r&&(m=p+"-vertical"),c.a.createElement(s,Object(U.a)({},u,{ref:t,className:F()(o,m,l&&p+"-"+l,n&&p+"-toggle")}))}));D.displayName="ButtonGroup",D.defaultProps={vertical:!1,toggle:!1,role:"group"};var A=D,L=a(153),B=a(33),H=function(e){var t=e.profileUpdate,a=Object(d.a)(e,["profileUpdate"]),l=Object(s.useState)(!1),n=Object(f.a)(l,2),r=n[0],o=n[1],i=Object(s.useState)(!1),u=Object(f.a)(i,2),p=u[0],m=u[1],h=function(e){e!==a.profile?a.saveProfile(e):!1!==t&&(o(!1),m(!1))};Object(s.useEffect)((function(){!0===t&&(o(!1),m(!1))}),[t]);var E=c.a.createRef(),y=c.a.createRef();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:b.a.profileInfoCard},c.a.createElement("div",{className:b.a.profileInfo},c.a.createElement("img",{src:null!==a.profile&&null!==a.profile.photos.large?a.profile.photos.large:v.a,alt:"AvaPhoto"}),c.a.createElement("input",{ref:E,type:"file",onChange:function(e){null!==e.target.files&&e.target.files.length&&a.savePhoto(e.target.files[0])},style:{display:"none"}}),a.isOwner?c.a.createElement("div",{style:{marginTop:"5px"}},c.a.createElement("div",null,a.isFollow?c.a.createElement(N.a,{style:{width:"250px"},variant:"danger",onClick:function(){return a.onFollowThunk(a.profile.userId,a.isFollow)}},"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"):c.a.createElement(N.a,{style:{width:"250px"},variant:"success",onClick:function(){return a.onFollowThunk(a.profile.userId,a.isFollow)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f")),c.a.createElement("div",{style:{marginTop:"3px"}},c.a.createElement(B.b,{to:"/dialogs/".concat(a.profile.userId)},c.a.createElement(N.a,{style:{width:"250px"},onClick:function(){return a.startDialogThunk(a.profile.userId)}},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")))):c.a.createElement("div",{style:{paddingTop:"3px"}},c.a.createElement(N.a,{style:{width:"250px"},onClick:function(){E.current&&E.current.click()},variant:"secondary"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e"),a.isOwner||r||p?c.a.createElement(N.a,{style:{marginTop:"3px",width:"250px"},variant:"success",onClick:function(){y.current&&y.current.click()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"):c.a.createElement(I.a,{key:"DropdownButton",as:A,id:"dropdown-variant-primary",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",style:{marginTop:"3px",width:"100%"}},c.a.createElement(L.a.Item,{style:{width:"250px"},onClick:function(){return o(!0)}},"\u0418\u043c\u044f \u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),c.a.createElement(L.a.Item,{style:{width:"250px"},onClick:function(){return m(!0)}},"\u041e\u0431\u043e \u043c\u043d\u0435")))),c.a.createElement("div",{style:{margin:"10px"}},c.a.createElement("h3",null,a.profile.fullName),c.a.createElement(g,{isOwner:a.isOwner,status:a.status,updateUserStatus:a.updateUserStatus}),c.a.createElement("div",{style:{marginLeft:"10px"}},r?c.a.createElement(w,Object.assign({},a,{onSubmit:h,initialValues:a.profile})):c.a.createElement(S,{profile:a.profile})))),c.a.createElement("div",{style:{marginLeft:"10px"}},p?c.a.createElement(_,Object.assign({},a,{onSubmit:h,initialValues:a.profile})):c.a.createElement(x,{profile:a.profile})))},J=a(594),z=a(619),R=function(e){var t=e.posts,a=Object(d.a)(e,["posts"]);return c.a.createElement(J.a,{className:b.a.profilePost},c.a.createElement("div",{className:b.a.profilePostItem},c.a.createElement("img",{alt:"Post",src:null!==a.avaPhoto?a.avaPhoto:v.a}),c.a.createElement("span",null,t.postText)),c.a.createElement("div",{className:b.a.profilePostLikes},c.a.createElement("span",null,"\ud83d\udc97 ".concat(t.likes,"  ")),c.a.createElement(N.a,{variant:"success",onClick:function(){return a.likeDislikeMyPost(t.id,!0)}},c.a.createElement("span",null,"\ud83d\udc4d")),c.a.createElement(N.a,{variant:"danger",onClick:function(){return a.likeDislikeMyPost(t.id,!1)}},c.a.createElement("span",null,"\ud83d\udc4e")),c.a.createElement(N.a,{variant:"dark",style:{float:"right"},onClick:function(){return a.deleteMyPost(t.id)}},c.a.createElement(z.a,{style:{color:"red"}}))))},Q=a(72),V=a(197),X=a(208),Y=Object(k.a)({form:"myNewPost"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("div",{className:b.a.myPosts},c.a.createElement(V.a,{name:"newPost",component:"textarea"}),c.a.createElement(N.a,{type:"submit"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))})),q=Object(m.d)(Object(u.b)((function(e){return{posts:e.profilePage.posts,avaPhoto:null!==e.profilePage.profile?e.profilePage.profile.photos.small:null}}),{addNewPost:X.a.addNewPost,likeDislikeMyPost:X.e,deleteMyPost:X.a.deleteMyPost,deleteAllMyPosts:X.a.deleteAllMyPosts}),p.g)((function(e){var t=e.posts.map((function(t){return c.a.createElement(R,{avaPhoto:e.avaPhoto,posts:t,key:t.id,likeDislikeMyPost:e.likeDislikeMyPost,deleteMyPost:e.deleteMyPost})})),a=e.match.params.userId;return localStorage.setItem("MyPosts",JSON.stringify(e.posts)),c.a.createElement(c.a.Fragment,null,!a&&c.a.createElement("div",null,c.a.createElement(Y,{onSubmit:function(t,a){e.addNewPost(t.newPost,e.avaPhoto),a(Object(Q.a)("myNewPost"))}}),c.a.createElement("div",{style:{marginBottom:"10px"}},t),c.a.createElement("div",{className:b.a.deleteLocalStorage},0!==e.posts.length&&c.a.createElement(N.a,{variant:"danger",onClick:function(){localStorage.removeItem("MyPosts"),e.deleteAllMyPosts()}},"\u041e\u0447\u0438c\u0442\u0438\u0442\u044c localStorage \u0438 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442\u044b"))))})),G=a(84),K=function(e){return e.profile?c.a.createElement(J.a,{className:b.a.global},c.a.createElement(H,{profile:e.profile,profileUpdate:e.profileUpdate,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile,status:e.status,updateUserStatus:e.updateUserStatus,startDialogThunk:e.startDialogThunk,isFollow:e.isFollow,onFollowThunk:e.onFollowThunk}),c.a.createElement(q,null)):c.a.createElement(G.a,null)},W=a(599),Z=a(120),$=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(n.a)(t,[{key:"userProfileId",value:function(){var e=this.props.match.params.userId;this.props.isAuth&&(e?(this.props.getProfileThunk(Number(e)),this.props.getUserStatus(Number(e))):null!==this.props.authUserId&&(this.props.getProfileThunk(this.props.authUserId),this.props.getUserStatus(this.props.authUserId)))}},{key:"componentDidMount",value:function(){this.userProfileId()}},{key:"componentDidUpdate",value:function(e){this.props.match.url!==e.match.url&&this.userProfileId()}},{key:"render",value:function(){return c.a.createElement(K,{isOwner:Number(this.props.match.params.userId),profile:this.props.profile,status:this.props.status,profileUpdate:this.props.profileUpdate,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,startDialogThunk:this.props.startDialogThunk,isFollow:this.props.isFollow,onFollowThunk:this.props.onFollowThunk})}}]),t}(c.a.Component);t.default=Object(m.d)(Object(u.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,profileUpdate:e.profilePage.profileUpdate,isFollow:e.profilePage.isFollow,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getProfileThunk:X.c,getUserStatus:X.d,updateUserStatus:X.i,savePhoto:X.g,saveProfile:X.h,startDialogThunk:Z.h,onFollowThunk:X.f}),p.g,W.a)($)}}]);
//# sourceMappingURL=4.1ae55cbd.chunk.js.map