(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{111:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"   \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},112:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var a=n(207),r=n(0),s=n.n(r),o=n(143),c=n.n(o),i=n(197),u=n(309),l=u.a.TextArea,p=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]),o=n.touched&&n.error;return s.a.createElement("div",{className:"".concat(c.a.formControl," ").concat(o?c.a.error:"")},"input"===r.types?s.a.createElement(u.a,Object.assign({},t,r)):s.a.createElement(l,Object.assign({},t,r,{autoSize:!0})),o&&s.a.createElement("span",{className:c.a.errorText},n.error))},A=function(e,t,n,a,r){return s.a.createElement(i.a,{validate:e,name:t,placeholder:a,type:r,component:p,types:n})}},120:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"b",(function(){return w})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return S})),n.d(t,"e",(function(){return y}));var a=n(3),r=n.n(a),s=n(9),o=n(69),c=n(12),i=n(17),u={usersInfo:null,userMessages:{},openUserDialogsId:Number(window.location.hash.replace("#/dialogs/",""))||-1,newMessagesCount:0},l=function(e){return{type:"/dialogs/GET_ALL_DIALOGS",payload:{usersInfo:e}}},p=function(e,t){return{type:"/dialogs/GET_USER_MESSAGES",payload:{userMessages:e,openUserDialogsId:t}}},A=function(e){return{type:"/dialogs/DELETE_GET_USER_MESSAGES",openUserDialogsId:e}},d=function(e){return{type:"/dialogs/SEND_MESSAGE",message:e}},f=function(e){return{type:"/dialogs/DELETE_MESSAGE",messageId:e}},m=function(e){return{type:"/dialogs/SELECT_MESSAGE",selectMessage:e}},E=function(e){return{type:"/dialogs/NEW_MESSAGES_COUNT",payload:{newMessagesCount:e}}},g=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.getAllDialogs();case 2:n=e.sent,t(l(n)),localStorage.removeItem("SelectMessage");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getListMessages(e);case 2:a=t.sent,n(-1!==e?p(a,e):A(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(a){var s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=5;break}return n.next=3,i.b.sendMessage(e,t);case 3:s=n.sent,a(d(s.data.message));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){var s,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.deleteMessage(e.id);case 2:s=a().messagesPage.userMessages.items.length,o=a().messagesPage.openUserDialogsId,n(s>10?f(e.id):h(o));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){var s,o,i,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=a().messagesPage.userMessages.items,o=JSON.parse(localStorage.getItem("SelectMessage")||"[]"),i=o,u=s.map((function(t){if(t.id===e){var n=!t.isSelect;return!0===n?i.push(e):i=i.filter((function(e){return e!==t.id})),Object(c.a)({},t,{isSelect:n})}return t})),n(m(u)),localStorage.setItem("SelectMessage",JSON.stringify(i));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.startDialogs(e);case 2:0===t.sent.resultCode&&n(h(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.newMessagesCount();case 2:200===(n=e.sent).status&&t(E(n.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/dialogs/GET_ALL_DIALOGS":case"/dialogs/GET_USER_MESSAGES":case"/dialogs/NEW_MESSAGES_COUNT":return Object(c.a)({},e,{},t.payload);case"/dialogs/SEND_MESSAGE":return Object(c.a)({},e,{userMessages:{items:[].concat(Object(o.a)(e.userMessages.items),[t.message])}});case"/dialogs/SELECT_MESSAGE":return Object(c.a)({},e,{userMessages:{items:t.selectMessage}});case"/dialogs/DELETE_MESSAGE":return Object(c.a)({},e,{userMessages:{items:e.userMessages.items.filter((function(e){return e.id!==t.messageId}))}});case"/dialogs/DELETE_GET_USER_MESSAGES":return Object(c.a)({},e,{userMessages:{items:[]},openUserDialogsId:t.openUserDialogsId});default:return e}}},143:function(e,t,n){e.exports={formControl:"FormControl_formControl__e7Zms",error:"FormControl_error___XZeI",errorText:"FormControl_errorText__31o7d"}},17:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return A}));var a=n(3),r=n.n(a),s=n(9),o=n(142),c=n.n(o).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0",withCredentials:!0,headers:{"API-KEY":"fc98c8d1-fcc0-4027-a270-97c3e19bdaad"}}),i={getUsers:function(e,t){return Object(s.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.get("/users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},u={postFollow:function(e){return c.post("/follow/".concat(e))},deleteFollow:function(e){return c.delete("/follow/".concat(e))}},l={getAuth:function(){return c.get("/auth/me")},login:function(e,t,n,a){return c.post("/auth/login",{email:e,password:t,rememberMe:n,captcha:a})},logout:function(){return c.delete("/auth/login")},getCaptcha:function(){return c.get("security/get-captcha-url")}},p={getProfile:function(e){return c.get("/profile/".concat(e))},getUserStatus:function(e){return c.get("/profile/status/".concat(e))},getIsFollow:function(e){return c.get("/follow/".concat(e))},updateUserStatus:function(e){return c.put("/profile/status/",{status:e})},saveAvatarPhoto:function(e){var t=new FormData;return t.append("image",e),c.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfileInfo:function(e){return c.put("/profile",e)}},A={startDialogs:function(e){return c.put("dialogs/".concat(e)).then((function(e){return e.data}))},getAllDialogs:function(){return c.get("dialogs/").then((function(e){return e.data}))},getListMessages:function(e){return c.get("dialogs/".concat(e,"/messages")).then((function(e){return e.data}))},sendMessage:function(e,t){return c.post("dialogs/".concat(e,"/messages"),{body:t}).then((function(e){return e.data}))},deleteMessage:function(e){return c.delete("dialogs/messages/".concat(e)).then((function(e){return e.data}))},newMessagesCount:function(){return c.get("dialogs/messages/new/count")}}},194:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var a,r=n(0),s=n.n(r),o=n(44),c=n.n(o),i=n(580),u=n(581),l=n(582),p=n(583),A=[],d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(0===A.length){for(var s=Math.ceil(e/t),o=1;o<=s;o++)A.push(o);a=Math.ceil(s/r)}var c=(n-1)*r+1,i=n*r;return A.filter((function(e){return e>=c&&e<=i}))};t.a=function(e){var t=e.numberPage,n=e.onNumberPage,r=e.pagesNumbers,o=e.portionPagesNumbers,d=e.onPagesNumbers,f=r[0],m=r[r.length-1];return s.a.createElement("div",{className:c.a.pagination},s.a.createElement("button",{className:o>1?c.a.jump:c.a.displayNone,onClick:function(){d(o-1)}},s.a.createElement("span",null,s.a.createElement(i.a,null))),s.a.createElement("button",{className:1!==t?c.a.nextPrev:c.a.displayNone,onClick:function(){t>m?n(m,o):t<=f?n(f-1,o-1):n(t-1,o)}},s.a.createElement("span",null,s.a.createElement(u.a,null))),r.map((function(e){return s.a.createElement("button",{className:t===e?c.a.pageNumber:c.a.buttonsColor,key:e,onClick:function(){n(e,o)}}," ".concat(e))})),s.a.createElement("button",{className:A.length>t?c.a.nextPrev:c.a.displayNone,onClick:function(){t<f?n(f,o):t>=m?n(m+1,o+1):n(t+1,o)}},s.a.createElement("span",null,s.a.createElement(l.a,null))),s.a.createElement("button",{className:a>o?c.a.jump:c.a.displayNone,onClick:function(){d(o+1)}},s.a.createElement("span",null,s.a.createElement(p.a,null))))}},199:function(e,t,n){e.exports={wrapper:"App_wrapper__2czeP",content:"App_content__11LgW"}},205:function(e,t,n){e.exports={wrapper:"Preloader_wrapper__1dlYF",loading:"Preloader_loading__1v2Zm"}},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return E})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return v})),n.d(t,"e",(function(){return w}));var a=n(3),r=n.n(a),s=n(9),o=n(69),c=n(12),i=n(17),u=n(72),l=n(41),p=JSON.parse(localStorage.getItem("MyPosts")||"[]"),A={posts:0===p.length?[{id:4,postText:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043f\u043e\u0441\u0442\u044b \u0435\u0449\u0435 \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u0432 \u0431\u044d\u043a\u0435\u043d\u0434\u0435. \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u0434\u043b\u044f \u0442\u043e\u0433\u043e '\u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0442\u044b\u043a\u0430\u0442\u044c' \u0441\u0434\u0435\u043b\u0430\u043b \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e \u0447\u0435\u0440\u0435\u0437 localStorage. \u041d\u0438\u0436\u0435 \u0435\u0441\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0430 \u043e\u0447\u0438\u0441\u0442\u043a\u0438 localStorage",likes:10,src:""},{id:3,postText:"\u0423\u0432\u0435\u0440\u0435\u043d, \u0447\u0442\u043e \u0445\u043e\u0440\u043e\u0448\u043e))",likes:15,src:""},{id:2,postText:"\u041a\u0430\u043a \u0432\u0430\u0448\u0438 \u0434\u0435\u043b\u0430?",likes:7,src:""},{id:1,postText:"\u041f\u0440\u0438\u0432\u0435\u0442)",likes:9,src:""}]:p,profile:null,profileUpdate:null,status:"",isFollow:!1},d={setUserProfile:function(e,t){return{type:"/profile/SET_USER_PROFILE",payload:{profile:e,isFollow:t}}},setUserStatus:function(e){return{type:"/profile/SET_USER_STATUS",payload:{status:e}}},onFollowAC:function(e){return{type:"/profile/ON_FOLLOW",payload:{isFollow:e}}},saveProtoSuccess:function(e){return{type:"/profile/SAVE_PHOTO_SUCCESS",photos:e}},profileUpdateSuccess:function(e){return{type:"/profile/PROFILE_UPDATE_SUCCESS",payload:{profileUpdate:e}}},addNewPost:function(e,t){return{type:"/profile/ADD_POST",postText:e,photo:t}},likeDislikeMyPost:function(e,t){return{type:"/profile/LIKE_DISLIKE",postId:e,boolean:t}},deleteMyPost:function(e){return{type:"/profile/DELETE_MY_POST",postId:e}},deleteAllMyPosts:function(){return{type:"/profile/DELETE_ALL_MY_POSTS"}}},f=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.getProfile(e);case 2:return a=t.sent,t.next=5,i.d.getIsFollow(e);case 5:s=t.sent,200===a.status&&200===s.status&&n(d.setUserProfile(a.data,s.data));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.getUserStatus(e);case 2:200===(a=t.sent).status&&n(d.setUserStatus(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=6;break}return n.next=3,i.c.postFollow(e);case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,i.c.deleteFollow(e);case 8:n.t0=n.sent;case 9:200===n.t0.status&&a(d.onFollowAC(!t));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.updateUserStatus(e);case 2:0===t.sent.data.resultCode&&n(d.setUserStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.saveAvatarPhoto(e);case 2:0===(a=t.sent).data.resultCode&&(n(d.saveProtoSuccess(a.data.data.photos)),n(Object(l.e)()));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){var s,o,c,l,p,A,m,E,g;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a().auth.userId||0,t.next=3,i.d.saveProfileInfo(e);case 3:if(0===(o=t.sent).data.resultCode)n(f(s)),n(d.profileUpdateSuccess(!0));else{for(c="   Invalid url format",l=o.data.messages[0].toLowerCase().slice(30,-1),p=[{facebook:c},{website:c},{vk:c},{twitter:c},{instagram:c},{youtube:c},{github:c},{mainLink:c}],A={},m=0,E=[{name:"facebook",id:0},{name:"website",id:1},{name:"vk",id:2},{name:"twitter",id:3},{name:"instagram",id:4},{name:"youtube",id:5},{name:"github",id:6},{name:"mainlink",id:7}];m<E.length;m++)(g=E[m]).name===l&&(A=p[g.id]);n(Object(u.b)("profileUserInfo",{contacts:A})),n(d.profileUpdateSuccess(!1))}setTimeout((function(){n(d.profileUpdateSuccess(null))}),1e3);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},w=function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a(d.likeDislikeMyPost(e,t));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},b=function(e,t,n){return e.map((function(e){return e.id===t?n?Object(c.a)({},e,{likes:e.likes+1}):Object(c.a)({},e,{likes:e.likes-1}):e}))};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/profile/SET_USER_PROFILE":case"/profile/PROFILE_UPDATE_SUCCESS":case"/profile/SET_USER_STATUS":case"/profile/ON_FOLLOW":return Object(c.a)({},e,{},t.payload);case"/profile/SAVE_PHOTO_SUCCESS":return Object(c.a)({},e,{profile:Object(c.a)({},e.profile,{photos:t.photos})});case"/profile/ADD_POST":return Object(c.a)({},e,{posts:[{id:e.posts[0].id+1,postText:t.postText,likes:0,src:t.photo}].concat(Object(o.a)(e.posts))});case"/profile/LIKE_DISLIKE":return Object(c.a)({},e,{posts:b(e.posts,t.postId,t.boolean)});case"/profile/DELETE_MY_POST":return Object(c.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"/profile/DELETE_ALL_MY_POSTS":return Object(c.a)({},e,{posts:[]});default:return e}}},219:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return g}));var a=n(3),r=n.n(a),s=n(9),o=n(12),c=n(17),i=n(194),u={users:[],usersCount:10,totalCount:0,numberPage:1,isLoading:!1,pagesNumbers:[],portionPagesNumbers:1},l=function(e,t){return e.map((function(e){if(e.id===t){var n=!e.followed;return Object(o.a)({},e,{followed:n})}return e}))},p=function(e,t,n,a,r){return{type:"/users/SET_USERS",payload:{users:e,totalCount:t,isLoading:n,pagesNumbers:a,portionPagesNumbers:r}}},A=function(e,t){return{type:"/users/SET_NUMBER_PAGE",payload:{numberPage:e,isLoading:t}}},d=function(e){return{type:"/users/FOLLOW_UNFOLLOW",userId:e}},f=function(e,t){return{type:"/users/PAGES_NUMBERS",payload:{pagesNumbers:e,portionPagesNumbers:t}}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var n=Object(s.a)(r.a.mark((function n(a,s){var o,u,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=s().usersPage.usersCount,a(A(e,!0)),n.next=4,c.e.getUsers(o,e);case 4:null===(u=n.sent).error&&(l=Object(i.b)(u.totalCount,o,t),a(p(u.items,u.totalCount,!1,l,t)));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},E=function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!0!==t){n.next=6;break}return n.next=3,c.c.deleteFollow(e);case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,c.c.postFollow(e);case 8:n.t0=n.sent;case 9:0===n.t0.data.resultCode&&a(d(e));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){var s,o,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=a().usersPage.usersCount,o=a().usersPage.totalCount,c=Object(i.b)(o,s,e),n(f(c,e));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/users/FOLLOW_UNFOLLOW":return Object(o.a)({},e,{users:l(e.users,t.userId)});case"/users/SET_USERS":case"/users/SET_NUMBER_PAGE":case"/users/PAGES_NUMBERS":return Object(o.a)({},e,{},t.payload);default:return e}}},29:function(e,t,n){e.exports={nav:"Navbar_nav__3FAj6",item_NewMessage:"Navbar_item_NewMessage__1WSeJ",item:"Navbar_item__EdY7Y",active:"Navbar_active__3MpYu",setting:"Navbar_setting__2_ZlS"}},299:function(e,t,n){e.exports=n.p+"static/media/loading.0e2358c3.gif"},300:function(e,t){e.exports="data:image/gif;base64,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"},337:function(e,t,n){e.exports=n(579)},41:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return E}));var a=n(3),r=n.n(a),s=n(9),o=n(12),c=n(17),i=n(72),u={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null,avatar:null},l=function(e){return{type:"/auth/me/SET_CAPTCHA",payload:{captchaUrl:e}}},p=function(e,t,n,a){return{type:"/auth/me/SET_AUTH",payload:{userId:e,email:t,login:n,isAuth:a}}},A=function(e){return{type:"/auth/AVATAR",payload:{avatar:e}}},d=function(){return function(e){return c.a.getAuth().then((function(t){if(!t.data.resultCode){var n=t.data.data,a=n.id,r=n.email,s=n.login;e(p(a,r,s,!0))}}))}},f=function(e,t,n,a){return function(){var o=Object(s.a)(r.a.mark((function s(o){var u,l;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.login(e,t,n,a);case 2:0===(u=r.sent).data.resultCode?o(d()):(l=u.data.messages.length>0?u.data.messages[0]:"Some Error",o(Object(i.b)("login",{_error:l})),10===u.data.resultCode&&o(g()));case 4:case"end":return r.stop()}}),s)})));return function(e){return o.apply(this,arguments)}}()},m=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(a=n().auth.userId)){e.next=6;break}return e.next=4,c.d.getProfile(a);case 4:200===(s=e.sent).status&&t(A(s.data.photos.small));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},E=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.logout();case 2:e.sent.data.resultCode||(t(p(null,null,null,!1)),t(A(null)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.getCaptcha();case 2:n=e.sent,a=n.data.url,t(l(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/auth/me/SET_AUTH":case"/auth/me/SET_CAPTCHA":case"/auth/AVATAR":return Object(o.a)({},e,{},t.payload);default:return e}}},44:function(e,t,n){e.exports={pagination:"Pagination_pagination__1v0lr",displayNone:"Pagination_displayNone__1kSMh",buttonsColor:"Pagination_buttonsColor__2z9e5",jump:"Pagination_jump__3blJt",nextPrev:"Pagination_nextPrev__VpOo3",pageNumber:"Pagination_pageNumber__2mzw-"}},579:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(18),r=n(120),s=n(208),o=n(219),c=n(41),i=n(284),u=n(282),l=n(3),p=n.n(l),A=n(9),d=n(12),f={initialized:!1,globalError:null},m=function(){return{type:"/auth/me/INITIALIZED_SUCCESS"}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/auth/me/INITIALIZED_SUCCESS":return Object(d.a)({},e,{initialized:!0});case"GLOBAL_ERROR":return Object(d.a)({},e,{globalError:t.globalError});default:return e}},g=n(69),h=n(142),v="https://backend-dz11.herokuapp.com",w=n.n(h).a.create({baseURL:v,headers:{"Content-Type":"application/json"}}),b=function(e){return Object(A.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("/posts/seenPosts/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},S=function(e){return Object(A.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.post("/posts",JSON.stringify(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},y=function(e){return Object(A.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.post("/posts/".concat(e,"/likes")).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},x=function(e){return Object(A.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.delete("/posts/".concat(e,"/likes")).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},k=function(e){return Object(A.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.delete("/posts/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},O=function(e){return Object(A.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("media",e),t.next=4,w.post("/upload",n).then((function(e){return e.data}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()},C={type:"",file:""},_={posts:[],firstSeenId:null,newPostsButton:!0,lastSeenId:null,prevPostsButton:!1,textPost:""},P={setPosts:function(e,t,n){return{type:"/news/SET_POSTS",posts:e,lastSeenId:t,prevPostsButton:n}},getFirstPosts:function(e,t,n){return{type:"/news/GET_POSTS",payload:{posts:e,lastSeenId:t,prevPostsButton:n}}},setLikes:function(e,t){return{type:"/news/SET_LIKES",postId:e,likes:t}},deletePostOfState:function(e){return{type:"/news/DELETE_POST",postId:e}},textPostAdd:function(e){return{type:"/news/TEXT",textPost:e}},addPost:function(e){return{type:"/news/ADD_POST",post:e}}},T=function(e,t,n){return e.map((function(e){return e.id===t?Object(d.a)({},e,{likes:n}):e}))},B=function(e,t){return e.filter((function(e){return e.id!==t}))},N=function(){var e=Object(A.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:a=e.sent,r=n||a.types,C={type:r,file:"".concat(v,"/static/").concat(a.name)};case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/news/TEXT":return Object(d.a)({},e,{textPost:t.textPost});case"/news/GET_POSTS":return Object(d.a)({},e,{},t.payload);case"/news/SET_POSTS":return Object(d.a)({},e,{posts:[].concat(Object(g.a)(e.posts),Object(g.a)(t.posts)),lastSeenId:t.lastSeenId,prevPostsButton:t.prevPostsButton});case"/news/SET_LIKES":return Object(d.a)({},e,{posts:T(e.posts,t.postId,t.likes)});case"/news/DELETE_POST":return Object(d.a)({},e,{posts:B(e.posts,t.postId)});case"/news/ADD_POST":return Object(d.a)({},e,{posts:[t.post].concat(Object(g.a)(e.posts)),textPost:""});default:return e}},j=Object(a.c)({messagesPage:r.a,profilePage:s.b,usersPage:o.a,auth:c.a,form:u.a,app:E,news:I}),L=Object(a.e)(j,Object(a.a)(i.a));window.store=L;var U=L,M=n(0),Q=n.n(M),R=n(25),F=n.n(R),D=n(78),G=n(79),J=n(80),z=n(81),K=n(82),H=n(199),Z=n.n(H),W=n(70),Y=n(594),V=function(){return Q.a.createElement(Y.a,{style:{textAlign:"center",fontSize:"20px",height:"100px"}},"\u0414\u0430\u043d\u043d\u044b\u0439 \u0440\u0430\u0437\u0434\u0435\u043b \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435")},q=function(){return Q.a.createElement(Y.a,{style:{textAlign:"center",fontSize:"20px",height:"100px"}},"\u0414\u0430\u043d\u043d\u044b\u0439 \u0440\u0430\u0437\u0434\u0435\u043b \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435")},X=n(29),$=n.n(X),ee=n(33),te=n(24),ne=n(596),ae=function(){var e=Object(te.d)((function(e){return e.messagesPage.newMessagesCount}));return Object(te.c)()(Object(r.e)()),Q.a.createElement("nav",{className:$.a.nav},Q.a.createElement("div",{className:$.a.item},Q.a.createElement(ee.b,{to:"/profile",activeClassName:$.a.active},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")),Q.a.createElement("div",{className:$.a.item},Q.a.createElement(ee.b,{to:"/dialogs",activeClassName:$.a.active},Q.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},Q.a.createElement("span",null,"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),e>0&&Q.a.createElement("div",{className:$.a.item_NewMessage},Q.a.createElement("span",null,Q.a.createElement(ne.a,null)),Q.a.createElement("b",null,e))))),Q.a.createElement("div",{className:$.a.item},Q.a.createElement(ee.b,{to:"/users",activeClassName:$.a.active},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")),Q.a.createElement("div",{className:$.a.item},Q.a.createElement(ee.b,{to:"/news",activeClassName:$.a.active},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")),Q.a.createElement("div",{className:$.a.item},Q.a.createElement(ee.b,{to:"/music",activeClassName:$.a.active},"\u041c\u0443\u0437\u044b\u043a\u0430")),Q.a.createElement("div",{className:"".concat($.a.item," ").concat($.a.setting)},Q.a.createElement(ee.b,{to:"/setting",activeClassName:$.a.active},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")))},re=n(71),se=n.n(re),oe=function(e){return e.isAuth&&e.setAvatarThunk(),Q.a.createElement("header",{className:se.a.header},Q.a.createElement("div",{className:se.a.logotype},Q.a.createElement("img",{alt:"Logotype",src:"https://liputan60.files.wordpress.com/2018/02/cropped-00106-3d-company-logo-design-free-logo-online-template-03.png?w=200"}),Q.a.createElement("span",null,"Social Network")),Q.a.createElement("div",{style:{width:"50%",position:"relative"}},Q.a.createElement("div",{className:se.a.loginBlockPosition},e.isAuth?Q.a.createElement("div",{style:{display:"flex",alignItems:"center"}},Q.a.createElement(ee.b,{to:"/profile",className:se.a.loginBlockName},Q.a.createElement("span",null,e.login),null!==e.avatar&&Q.a.createElement("img",{src:e.avatar,alt:"ava"})),Q.a.createElement("div",null,Q.a.createElement("button",{className:se.a.loginButton,onClick:e.logout},"\u0412\u042b\u0419\u0422\u0418"))):Q.a.createElement("div",{className:se.a.loginBtn},Q.a.createElement(ee.b,{to:"/login",activeClassName:se.a.active},"\u0412\u041e\u0419\u0422\u0418")))))},ce=function(e){function t(){return Object(D.a)(this,t),Object(J.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return Q.a.createElement(oe,{isAuth:this.props.isAuth,login:this.props.login,logout:this.props.logout,avatar:this.props.avatar,setAvatarThunk:this.props.setAvatarThunk})}}]),t}(Q.a.Component),ie=Object(te.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,avatar:e.auth.avatar}}),{logout:c.d,setAvatarThunk:c.e})(ce),ue=n(281),le=n(111),pe=n(112),Ae=n(298),de=n(593),fe=n(59),me=n.n(fe),Ee=Object(le.a)(30),ge=Object(ue.a)({form:"login"})((function(e){return Q.a.createElement("form",{onSubmit:e.handleSubmit},Q.a.createElement("div",{className:me.a.inputForm},Q.a.createElement("div",{className:me.a.inputForm_Inputs},Object(pe.a)([le.b,Ee],"email","input","Email")),Q.a.createElement("div",{className:me.a.inputForm_Inputs},Object(pe.a)([le.b,Ee],"password","input","Password","password")),Q.a.createElement("div",{className:me.a.rememberMe},Object(pe.a)(null,"rememberMe","input",null,"checkbox"),Q.a.createElement("span",null,"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c")),Q.a.createElement("div",{className:me.a.captcha},e.captchaUrl&&Q.a.createElement("img",{src:e.captchaUrl,alt:"captcha"}),e.captchaUrl&&Q.a.createElement("div",{className:me.a.inputForm_Inputs},Object(pe.a)(le.b,"captcha","input"))),e.error&&Q.a.createElement("div",{className:me.a.error},Q.a.createElement("span",null,e.error)),Q.a.createElement("div",null,Q.a.createElement(Ae.a,{variant:"success",type:"submit"},"\u0412\u043e\u0439\u0442\u0438"))))})),he=Object(te.b)((function(e){return{captchaUrl:e.auth.captchaUrl,isAuth:e.auth.isAuth}}),{login:c.c})((function(e){return e.isAuth?Q.a.createElement(W.a,{to:"/profile"}):Q.a.createElement("div",{className:me.a.login},Q.a.createElement(Y.a,{style:{width:"400px"}},Q.a.createElement(Y.a.Header,{style:{textAlign:"center"}},Q.a.createElement("h3",null,"\u041b\u043e\u0433\u0438\u043d\u0438\u0437\u0430\u0446\u0438\u044f")),Q.a.createElement(de.a,null,Q.a.createElement(de.a.Item,null,Q.a.createElement(ge,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})),Q.a.createElement(de.a.Item,null,Q.a.createElement("h5",{style:{textAlign:"center"}},"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430:"),Q.a.createElement("div",null,Q.a.createElement("b",null,"Email:")," ",Q.a.createElement("span",null,"free@samuraijs.com")),Q.a.createElement("div",null,Q.a.createElement("b",null,"Password:")," ",Q.a.createElement("span",null,"free"))),Q.a.createElement(de.a.Item,null,Q.a.createElement("h5",{style:{textAlign:"center",color:"gold"}},"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435 !"),Q.a.createElement("div",{style:{textIndent:"25px"}},"\u0415\u0441\u043b\u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0438\u0442\u044c\u0441\u044f, \u0437\u043d\u0430\u0447\u0438\u0442 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442 \u0444\u0430\u0439\u043b\u044b cookie. \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430 \u0438\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0431\u0440\u0430\u0443\u0437\u0435\u0440. \u0421\u0432\u044f\u0437\u0430\u043d\u043e \u044d\u0442\u043e \u0441 CORS, SameSite.")))))})),ve=n(84),we=function(e){return function(t){return Q.a.createElement(M.Suspense,{fallback:Q.a.createElement(ve.a,null)},Q.a.createElement(e,t))}},be=n(209),Se=n(96),ye=n.n(Se),xe=function(e){var t=Object.assign({},e);return t.posts.length?Q.a.createElement(Q.a.Fragment,null,0!==t.lastSeenId&&t.posts.map((function(e){return Q.a.createElement(Y.a,{key:e.id,style:{margin:"5px",borderColor:"black"}},function(e){return""===e.type?null:"image"===e.type?Q.a.createElement("img",{style:{maxHeight:"60vh",width:"100%"},variant:"top",src:e.file,alt:""}):"audio"===e.type?Q.a.createElement("audio",{style:{width:"100%"},src:e.file,controls:!0}):"video"===e.type?Q.a.createElement("video",{style:{width:"100%",maxHeight:"60vh"},src:e.file,controls:!0}):void 0}(e),Q.a.createElement(Y.a.Body,{style:{backgroundColor:"rgb(215, 215, 215)"}},Q.a.createElement(Y.a.Text,{style:{fontSize:"20px"}},e.content),Q.a.createElement("span",{style:{marginRight:"10px",fontSize:"20px"}},"\ud83d\udc97 ".concat(e.likes)),Q.a.createElement(Ae.a,{variant:"outline-success",onClick:function(){t.likePost(e.id)}},"\ud83d\udc4d"),Q.a.createElement(Ae.a,{variant:"outline-warning",onClick:function(){t.dislikePost(e.id)}},"\ud83d\udc4e"),Q.a.createElement(Ae.a,{variant:"outline-danger",onClick:function(){t.deletePost(e.id)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))})),Q.a.createElement(Ae.a,{variant:"secondary",className:t.prevPostsButton?ye.a.prevBtn:ye.a.displayNone,onClick:function(){t.getMyPosts(t.lastSeenId)}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435")):Q.a.createElement(ve.a,null)},ke=n(589),Oe=n(595),Ce=n(590),_e=n(153),Pe=n(592),Te=n(300),Be=n.n(Te),Ne=n(301),Ie=n.n(Ne),je=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(J.a)(this,Object(z.a)(t).call(this,e))).addPost=function(){n.props.addPostThunk(n.props.textPost),n.setState({uploadBtn:!1,uploadBtnLoading:!1,recordBtn:!1,addBtn:!1})},n.onPostChange=function(e){n.props.textPostAdd(e.target.value)},n.fileUpload=Q.a.createRef(),n.fileSelected=function(e){n.setState({recordBtn:!0,uploadBtnLoading:!0,addBtn:!0});var t=Array.from(e.currentTarget.files),a=Object(be.a)(t,1)[0];N(a).finally((function(){n.setState({addBtn:!1,uploadBtnLoading:!1})}))},n.recordMediaUser=function(e){if(navigator.mediaDevices&&window.MediaRecorder){"audio"===e&&navigator.mediaDevices.getUserMedia({audio:!0}).then((function(n){t(n,e)})).catch((function(e){n.setState({error:!0,errorText:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d\u0443"})})),"video"===e&&navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(a){t(a,e),n.video.srcObject=a,n.video.play(),n.setState({recordVideo:!0})})).catch((function(e){n.setState({error:!0,errorText:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u043a\u0430\u043c\u0435\u0440\u0435 \u0438/\u0438\u043b\u0438 \u043a \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d\u0443"})}));var t=function(e,t){n.setState({uploadBtn:!0,addBtn:!0,recordBtnDisable:!0,recordBtn:!0}),n.mediaRecorder=new MediaRecorder(e),n.mediaRecorder.start(),n.mediaRecorder.ondataavailable=function(a){e.getTracks().forEach((function(e){return e.stop()})),n.setState({recordBtnDisable:!1,recordVideo:!1});var r=new Blob([a.data]);N(r,t).finally((function(){n.setState({addBtn:!1,recordBtn:!1})}))},setTimeout((function(){"recording"===n.mediaRecorder.state&&n.mediaRecorder.stop()}),6e4)}}else n.setState({error:!0,errorText:"\u041d\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0434\u0438\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"})},n.state={uploadBtn:!1,uploadBtnLoading:!1,recordVideo:!1,recordBtn:!1,recordBtnDisable:!1,error:!1,errorText:"",addBtn:!1},n}return Object(K.a)(t,e),Object(G.a)(t,[{key:"componentDidMount",value:function(){this.props.getMyPosts()}},{key:"componentDidUpdate",value:function(e){this.props.posts.length!==e.posts.length&&this.props.posts.length<5&&this.props.getMyPosts(0)}},{key:"render",value:function(){var e=this;return Q.a.createElement("div",{className:ye.a.global},Q.a.createElement(ke.a,{style:{position:"fixed",width:"60%",zIndex:"100"}},Q.a.createElement(Oe.a,{style:{border:"1px solid black",height:"40px"},value:this.props.textPost,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0432\u0430\u0448\u0435\u0433\u043e \u043f\u043e\u0441\u0442\u0430",onChange:this.onPostChange}),Q.a.createElement("input",{ref:this.fileUpload,type:"file",onChange:this.fileSelected,style:{display:"none"}}),Q.a.createElement(Ae.a,{onClick:function(){return e.fileUpload.current.click()},disabled:this.state.uploadBtn,variant:"secondary",style:{marginLeft:"2px",border:"1px solid black"}},this.state.uploadBtnLoading?Q.a.createElement("div",null,Q.a.createElement("img",{style:{height:"20px"},src:Be.a,alt:"Loading"}),Q.a.createElement("span",null," \u0416\u0434\u0438\u0442\u0435...")," "):" \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"),this.state.recordBtnDisable?Q.a.createElement(Ae.a,{variant:"warning",onClick:function(){return e.mediaRecorder.stop()}},Q.a.createElement(Ie.a,null)," \u0421\u0442\u043e\u043f"):Q.a.createElement(Ce.a,{title:"\u0417\u0430\u043f\u0438\u0441\u044c",variant:"secondary",style:{marginLeft:"2px",border:"1px solid black",borderRadius:"5px"},disabled:this.state.recordBtn},Q.a.createElement(_e.a.Item,{onClick:function(){return e.recordMediaUser("video")}},"\u0412\u0438\u0434\u0435\u043e"),Q.a.createElement(_e.a.Item,{onClick:function(){return e.recordMediaUser("audio")}},"\u0410\u0443\u0434\u0438\u043e")),Q.a.createElement(Ae.a,{disabled:this.state.addBtn,style:{marginLeft:"2px",border:"1px solid black"},variant:"success",onClick:this.addPost},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),Q.a.createElement("div",{style:{width:"100%",paddingTop:"42px"}},Q.a.createElement("div",{className:!this.state.recordVideo&&ye.a.displayNone},Q.a.createElement("video",{style:{width:"100%",border:"3px solid red"},muted:!0,ref:function(t){e.video=t}}))),Q.a.createElement(Pe.a,{show:this.state.error,onHide:function(){return e.setState({error:!1})}},Q.a.createElement(Pe.a.Header,{closeButton:!0},Q.a.createElement(Pe.a.Title,null,"\u041e\u0448\u0438\u0431\u043a\u0430 !")),Q.a.createElement(Pe.a.Body,null,this.state.errorText),Q.a.createElement(Pe.a.Footer,null,Q.a.createElement(Ae.a,{variant:"secondary",onClick:function(){return e.setState({error:!1})}},"Close"))),Q.a.createElement(xe,this.props))}}]),t}(Q.a.Component),Le=Object(a.d)(Object(te.b)((function(e){return{posts:e.news.posts,lastSeenId:e.news.lastSeenId,prevPostsButton:e.news.prevPostsButton,textPost:e.news.textPost,addPostFormData:e.news.addPostFormData}}),{getMyPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(function(){var t=Object(A.a)(p.a.mark((function t(n){var a,r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:(a=t.sent)&&0!==a.length&&(r=a.reverse(),s=a[a.length-1].id,0===e?a.length<5?n(P.getFirstPosts(r,s,!1)):n(P.getFirstPosts(r,s,!0)):a.length<5?n(P.setPosts(r,s,!1)):n(P.setPosts(r,s,!0)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},likePost:function(e){return function(){var t=Object(A.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:a=t.sent,n(P.setLikes(e,a.likes));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},dislikePost:function(e){return function(){var t=Object(A.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:a=t.sent,n(P.setLikes(e,a.likes));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deletePost:function(e){return function(){var t=Object(A.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e);case 2:n(P.deletePostOfState(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addPostThunk:function(e){return function(){var t=Object(A.a)(p.a.mark((function t(n){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:0,content:e,type:C.type||"",file:C.file||""},C={type:"",file:""},t.next=4,S(a);case 4:r=t.sent,n(P.addPost(r));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},textPostAdd:P.textPostAdd}))(je),Ue=Q.a.lazy((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,621))})),Me=Q.a.lazy((function(){return n.e(6).then(n.bind(null,622))})),Qe=Q.a.lazy((function(){return n.e(4).then(n.bind(null,620))})),Re=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(J.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).catchAllUnhandledErrors=function(e,t){var n="";n="Request failed with status code 403"===e.reason.message?'Invalid "API-KEY" in api.js':e.reason.message,alert(n)},n}return Object(K.a)(t,e),Object(G.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?Q.a.createElement("div",{className:Z.a.wrapper},Q.a.createElement(ie,null),Q.a.createElement(ae,null),Q.a.createElement("div",{className:Z.a.content},Q.a.createElement(W.d,null,Q.a.createElement(W.b,{exact:!0,path:"/"},Q.a.createElement(W.a,{to:"/profile"})),Q.a.createElement(W.b,{path:"/profile/:userId?",render:we(Qe)}),Q.a.createElement(W.b,{path:"/dialogs/:userId?",render:we(Ue)}),Q.a.createElement(W.b,{path:"/news",render:we(Le)}),Q.a.createElement(W.b,{path:"/music",render:function(){return Q.a.createElement(q,null)}}),Q.a.createElement(W.b,{path:"/setting",render:function(){return Q.a.createElement(V,null)}}),Q.a.createElement(W.b,{path:"/users",render:we(Me)}),Q.a.createElement(W.b,{path:"/login",render:function(){return Q.a.createElement(he,null)}}),Q.a.createElement(W.b,{path:"*",render:function(){return Q.a.createElement("div",null,"404 NOT FOUND")}})))):Q.a.createElement(ve.a,null)}}]),t}(Q.a.Component),Fe=Object(a.d)(Object(te.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(A.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(c.b)()).finally((function(){t(m())}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),W.g)(Re);F.a.render(Q.a.createElement(ee.a,null,Q.a.createElement(te.a,{store:U},Q.a.createElement(Fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},59:function(e,t,n){e.exports={login:"Login_login__34sN9",inputForm:"Login_inputForm__2rj9M",inputForm_Inputs:"Login_inputForm_Inputs__38b0Y",captcha:"Login_captcha__2pPpX",error:"Login_error__24Xpq",rememberMe:"Login_rememberMe__1zwJv"}},71:function(e,t,n){e.exports={header:"Header_header__P8P9m",logotype:"Header_logotype__1_MoX",loginBlockPosition:"Header_loginBlockPosition__3Lwkt",loginBlockName:"Header_loginBlockName__amxIk",loginButton:"Header_loginButton__jkjh4",loginBtn:"Header_loginBtn__wd5Vi",active:"Header_active__1AYzK"}},84:function(e,t,n){"use strict";var a=n(0),r=n.n(a),s=n(205),o=n.n(s),c=n(299),i=n.n(c);t.a=function(){return r.a.createElement("div",{className:o.a.wrapper},r.a.createElement("img",{className:o.a.loading,src:i.a,alt:"Loader"}))}},96:function(e,t,n){e.exports={global:"News_global__1EEZe",prevBtn:"News_prevBtn__1nnwX",displayNone:"News_displayNone__296KQ"}}},[[337,1,2]]]);
//# sourceMappingURL=main.7124520c.chunk.js.map