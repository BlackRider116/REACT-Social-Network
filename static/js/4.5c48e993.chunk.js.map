{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","assets/image/avatarDefault.jpg","common/Pagination/Pagination.module.css","components/Navbar/Users/Users.module.css","common/Pagination/Pagination.jsx","components/Navbar/Users/UserPage.jsx","components/Navbar/Users/Users.jsx","redux/selectorUsers.js","components/Navbar/Users/UsersContainer.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","module","exports","Pagination","totalItemsCount","usersCount","numberPage","onNumberPage","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","pagination","jump","displayNone","onClick","filter","p","map","pageNumber","buttonsColor","key","UserPage","users","deleteFollowThunk","postFollowThunk","u","id","to","alt","src","photos","small","avatarDefault","avatar","followed","name","status","Users","props","totalCount","isLoading","Preloader","getUsers","state","usersPage","getUsersCount","getTotalCount","getNumberPage","getIsLoading","UsersContainer","getUsersThunk","this","React","Component","compose","connect"],"mappings":"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","file":"static/js/4.5c48e993.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","module.exports = __webpack_public_path__ + \"static/media/avatarDefault.6c93098b.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__1Ru4s\",\"displayNone\":\"Pagination_displayNone__FcH8C\",\"buttonsColor\":\"Pagination_buttonsColor__3XYj7\",\"jump\":\"Pagination_jump__9E_kH\",\"pageNumber\":\"Pagination_pageNumber__4ByWK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Users_avatar__2wANC\"};","import React, { useState } from \"react\";\r\nimport styles from \"./Pagination.module.css\";\r\n\r\nconst Pagination = ({totalItemsCount, usersCount, numberPage, onNumberPage, portionSize = 10}) => {\r\n\r\n  let pagesCount = Math.ceil(totalItemsCount / usersCount);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  const next = () => {\r\n    if(numberPage < leftPortionPageNumber){\r\n      onNumberPage(leftPortionPageNumber)\r\n    }\r\n    else if(numberPage >= rightPortionPageNumber){\r\n      onNumberPage(rightPortionPageNumber+1)\r\n      setPortionNumber(portionNumber+1)\r\n    }\r\n    else {\r\n      onNumberPage(numberPage+1)\r\n    }\r\n  }\r\n\r\n  const prev = () => {\r\n    if(numberPage > rightPortionPageNumber){\r\n      onNumberPage(rightPortionPageNumber)\r\n    }\r\n    else if(numberPage <= leftPortionPageNumber){\r\n      onNumberPage(leftPortionPageNumber-1)\r\n      setPortionNumber(portionNumber-1)\r\n    }\r\n    else {\r\n      onNumberPage(numberPage-1)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n   { totalItemsCount !== 0 ? \r\n    <div className={styles.pagination}>\r\n      {<button className={portionNumber > 1 ? styles.jump : styles.displayNone } onClick={() => {setPortionNumber(portionNumber-1)}}>JUMP</button>}\r\n      {<button className={numberPage !== 1 ? styles.jump :  styles.displayNone } onClick={() => {prev()}}>PREV</button>}\r\n      {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map(p => {\r\n          return (\r\n            <button className={numberPage === p ? styles.pageNumber : styles.buttonsColor}\r\n              key={p} \r\n              onClick={() => {\r\n                onNumberPage(p);\r\n              }}\r\n            >{` ${p}`}</button>\r\n          );\r\n        })}\r\n      {<button className={pages.length !== numberPage ? styles.jump : styles.displayNone } onClick={() => {next()}}>NEXT</button>}\r\n      {<button className={portionCount > portionNumber ? styles.jump : styles.displayNone } onClick={() => {setPortionNumber(portionNumber+1)}}>JUMP</button>}\r\n      </div>\r\n     : null }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\nimport styles from \"./Users.module.css\";\r\nimport avatarDefault from \"./../../../assets/image/avatarDefault.jpg\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst UserPage = ({ users, deleteFollowThunk, postFollowThunk, ...props }) => {\r\n  return (\r\n    <div>\r\n      {users.map(u => (\r\n        <div key={u.id}>\r\n          <span>\r\n            <div>\r\n              <NavLink to={`/profile/${u.id}`}>\r\n                <img\r\n                  alt=\"avatarDefault\"\r\n                  src={u.photos.small !== null ? u.photos.small : avatarDefault}\r\n                  className={styles.avatar}\r\n                />\r\n              </NavLink>\r\n            </div>\r\n            <div>\r\n              {u.followed ? (\r\n                <button\r\n                  onClick={() => {\r\n                    deleteFollowThunk(u.id);\r\n                  }}\r\n                >\r\n                  Unsubscribe\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  onClick={() => {\r\n                    postFollowThunk(u.id);\r\n                  }}\r\n                >\r\n                  Subscribe\r\n                </button>\r\n              )}\r\n            </div>\r\n          </span>\r\n          <span>\r\n            <span>\r\n              <div>{u.name}</div>\r\n              <div>\r\n                {u.status ? u.status : \"<<<Not indicated>>>\"}\r\n              </div>\r\n            </span>\r\n          </span>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPage;\r\n","import React from \"react\";\r\nimport Preloader from \"../../../common/Preloader/Preloader\";\r\nimport Pagination from \"../../../common/Pagination/Pagination\";\r\nimport UserPage from \"./UserPage\";\r\n\r\nconst Users = props => {\r\n  // debugger\r\n  return (\r\n    <div>\r\n      <Pagination\r\n        totalItemsCount={props.totalCount}\r\n        usersCount={props.usersCount}\r\n        numberPage={props.numberPage}\r\n        onNumberPage={props.onNumberPage}\r\n      />\r\n      {props.isLoading ? <Preloader /> : <UserPage {...props} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","// import { createSelector } from \"reselect\"\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\n// export const getUsersSelector = createSelector(getUsers, \r\n//     (users)=>{\r\n//         return users.filter(u => true)\r\n// })\r\n\r\nexport const getUsersCount = (state) => {\r\n    return state.usersPage.usersCount\r\n}\r\n\r\nexport const getTotalCount = (state) => {\r\n    return state.usersPage.totalCount\r\n}\r\n\r\nexport const getNumberPage = (state) => {\r\n    return state.usersPage.numberPage\r\n}\r\n\r\nexport const getIsLoading = (state) => {\r\n    return state.usersPage.isLoading\r\n}","import React from \"react\";\r\nimport Users from \"./Users\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  getUsersThunk,\r\n  postFollowThunk,\r\n  deleteFollowThunk\r\n} from \"../../../redux/reduceUsers\";\r\n// import { withAuthRedirect } from \"../../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport { getUsers, getUsersCount, getTotalCount, getNumberPage, getIsLoading } from \"../../../redux/selectorUsers\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsersThunk(this.props.usersCount, this.props.pageNumber);\r\n  }\r\n\r\n  onNumberPage = pageNumber => {\r\n    this.props.getUsersThunk(this.props.usersCount, pageNumber);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Users\r\n        isLoading={this.props.isLoading}\r\n        totalCount={this.props.totalCount}\r\n        usersCount={this.props.usersCount}\r\n        numberPage={this.props.numberPage}\r\n        users={this.props.users}\r\n        onNumberPage={this.onNumberPage}\r\n        postFollowThunk={this.props.postFollowThunk}\r\n        deleteFollowThunk={this.props.deleteFollowThunk}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    users: getUsers(state),\r\n    usersCount: getUsersCount(state),\r\n    totalCount: getTotalCount(state),\r\n    numberPage: getNumberPage(state),\r\n    isLoading: getIsLoading(state)\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    postFollowThunk,\r\n    deleteFollowThunk,\r\n    getUsersThunk\r\n  })\r\n  // withAuthRedirect\r\n)(UsersContainer);\r\n"],"sourceRoot":""}